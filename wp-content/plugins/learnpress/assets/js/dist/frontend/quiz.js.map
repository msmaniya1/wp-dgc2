{"version":3,"file":"./assets/js/dist/frontend/quiz.js","mappings":"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","sources":["webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/attempts/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/buttons/button-check.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/buttons/button-hint.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/buttons/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/content/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/duration/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/meta/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/questions/buttons.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/questions/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/questions/question.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/result/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/status/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/timer/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/components/title/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/store/actions.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/store/index.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/store/middlewares.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/store/reducer.js","webpack://learnpress/./assets/src/apps/js/frontend/quiz/store/selectors.js","webpack://learnpress/./assets/src/apps/js/frontend/show-lp-overlay-complete-item.js","webpack://learnpress/./assets/src/apps/js/frontend/single-curriculum/components/compatible.js","webpack://learnpress/./assets/src/apps/js/frontend/single-curriculum/components/items-progress.js","webpack://learnpress/./assets/src/apps/js/utils/lp-modal-overlay.js","webpack://learnpress/./node_modules/classnames/index.js","webpack://learnpress/./node_modules/refx/refx.js","webpack://learnpress/external window [\"LP\",\"dataControls\"]","webpack://learnpress/external window [\"wp\",\"compose\"]","webpack://learnpress/external window [\"wp\",\"data\"]","webpack://learnpress/external window [\"wp\",\"element\"]","webpack://learnpress/external window [\"wp\",\"i18n\"]","webpack://learnpress/external window [\"wp\",\"url\"]","webpack://learnpress/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://learnpress/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://learnpress/webpack/bootstrap","webpack://learnpress/webpack/runtime/compat get default export","webpack://learnpress/webpack/runtime/define property getters","webpack://learnpress/webpack/runtime/hasOwnProperty shorthand","webpack://learnpress/webpack/runtime/make namespace object","webpack://learnpress/./assets/src/apps/js/frontend/quiz.js"],"sourcesContent":["import { select } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { default as formatDuration } from '../duration';\n\n/**\n * Displays list of all attempt from a quiz.\n */\nconst Attempts = () => {\n\tconst attempts = select( 'learnpress/quiz' ).getData( 'attempts' ) || [];\n\n\tconst hasAttempts = attempts && !! attempts.length;\n\treturn (\n\t\t! hasAttempts ? false : <>\n\t\t\t<div className=\"quiz-attempts\">\n\t\t\t\t<h4 className=\"attempts-heading\">{ __( 'Last Attempt', 'learnpress' ) }</h4>\n\n\t\t\t\t{ hasAttempts && (\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th className=\"quiz-attempts__questions\">{ __( 'Questions', 'learnpress' ) }</th>\n\t\t\t\t\t\t\t\t<th className=\"quiz-attempts__spend\">{ __( 'Time spent', 'learnpress' ) }</th>\n\t\t\t\t\t\t\t\t<th className=\"quiz-attempts__marks\">{ __( 'Marks', 'learnpress' ) }</th>\n\t\t\t\t\t\t\t\t<th className=\"quiz-attempts__grade\">{ __( 'Passing grade', 'learnpress' ) }</th>\n\t\t\t\t\t\t\t\t<th className=\"quiz-attempts__result\">{ __( 'Result', 'learnpress' ) }</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{ attempts.map( ( row, key ) => {\n\t\t\t\t\t\t\t\t// Re-write value to attempts.timeSpend\n\t\t\t\t\t\t\t\t/*if ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\t\t\t\t\t\t\tconst timespendStart = window.localStorage.getItem( 'quiz_start_' + lpQuizSettings.id ),\n\t\t\t\t\t\t\t\t\t\ttimespendEnd = window.localStorage.getItem( 'quiz_end_' + lpQuizSettings.id );\n\t\t\t\t\t\t\t\t\tif ( timespendStart && timespendEnd ) {\n\t\t\t\t\t\t\t\t\t\trow.timeSpend = timeDifference( timespendStart, timespendEnd ).duration;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<tr key={ `attempt-${ key }` }>\n\t\t\t\t\t\t\t\t\t\t<td className=\"quiz-attempts__questions\">{ `${ row.questionCorrect } / ${ row.questionCount }` }</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"quiz-attempts__spend\">{ row.timeSpend || '--' }</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"quiz-attempts__marks\">{ `${ row.userMark } / ${ row.mark }` }</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"quiz-attempts__grade\">{ row.passingGrade || '-' }</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"quiz-attempts__result\">{ `${ parseFloat( row.result ).toFixed( 2 ) }%` } <span>{ row.graduationText }</span></td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n};\nfunction timeDifference( earlierDate, laterDate ) {\n\tconst oDiff = new Object();\n\n\t//  Calculate Differences\n\t//  -------------------------------------------------------------------  //\n\tlet nTotalDiff = laterDate - earlierDate;\n\n\toDiff.days = Math.floor( nTotalDiff / 1000 / 60 / 60 / 24 );\n\tnTotalDiff -= oDiff.days * 1000 * 60 * 60 * 24;\n\n\toDiff.hours = Math.floor( nTotalDiff / 1000 / 60 / 60 );\n\tnTotalDiff -= oDiff.hours * 1000 * 60 * 60;\n\n\toDiff.minutes = Math.floor( nTotalDiff / 1000 / 60 );\n\tnTotalDiff -= oDiff.minutes * 1000 * 60;\n\n\toDiff.seconds = Math.floor( nTotalDiff / 1000 );\n\t//  -------------------------------------------------------------------  //\n\n\t//  Format Duration\n\t//  -------------------------------------------------------------------  //\n\t//  Format Hours\n\tlet hourtext = '00';\n\tif ( oDiff.days > 0 ) {\n\t\thourtext = String( oDiff.days );\n\t}\n\tif ( hourtext.length == 1 ) {\n\t\thourtext = '0' + hourtext;\n\t}\n\n\t//  Format Minutes\n\tlet mintext = '00';\n\tif ( oDiff.minutes > 0 ) {\n\t\tmintext = String( oDiff.minutes );\n\t}\n\tif ( mintext.length == 1 ) {\n\t\tmintext = '0' + mintext;\n\t}\n\n\t//  Format Seconds\n\tlet sectext = '00';\n\tif ( oDiff.seconds > 0 ) {\n\t\tsectext = String( oDiff.seconds );\n\t}\n\tif ( sectext.length == 1 ) {\n\t\tsectext = '0' + sectext;\n\t}\n\t//  Set Duration\n\tconst sDuration = hourtext + ':' + mintext + ':' + sectext;\n\toDiff.duration = sDuration;\n\t//  -------------------------------------------------------------------  //\n\n\treturn oDiff;\n}\nexport default Attempts;\n","import classNames from 'classnames';\n\nimport { Component } from '@wordpress/element';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nclass ButtonCheck extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t};\n\t}\n\n\tcheckAnswer = () => {\n\t\tconst { checkAnswer, question, answered } = this.props;\n\n\t\tif ( answered ) {\n\t\t\tcheckAnswer( question.id );\n\n\t\t\tthis.setState( {\n\t\t\t\tloading: true,\n\t\t\t} );\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { answered } = this.props;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<button className={ classNames( 'lp-button', 'instant-check', {\n\t\t\t\t\tloading: this.state.loading,\n\t\t\t\t\tdisable: ! answered,\n\t\t\t\t} ) } onClick={ this.checkAnswer }\n\t\t\t\t>\n\t\t\t\t\t<span className=\"instant-check__icon\" />\n\t\t\t\t\t{ __( 'Check answers', 'learnpress' ) }\n\n\t\t\t\t\t{ ! answered && (\n\t\t\t\t\t\t<div className=\"instant-check__info\" dangerouslySetInnerHTML={ { __html: __( 'You need to answer the question before checking the answer key.', 'learnpress' ) } } />\n\t\t\t\t\t) }\n\t\t\t\t</button>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { question: { id } } ) => {\n\t\tconst { getQuestionAnswered } = select( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tanswered: getQuestionAnswered( id ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { id } ) => {\n\t\tconst { checkAnswer } = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tcheckAnswer( id ) {\n\t\t\t\tcheckAnswer( id );\n\t\t\t},\n\t\t};\n\t} )\n)( ButtonCheck );\n","import { Component } from '@wordpress/element';\nimport { withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nclass ButtonHint extends Component {\n\t/**\n\t * Callback to show hint of question\n\t */\n\tshowHint = () => {\n\t\tconst { showHint, question } = this.props;\n\n\t\tshowHint( question.id, ! question.showHint );\n\t};\n\n\trender() {\n\t\tconst { question } = this.props;\n\n\t\treturn (\n\t\t\tquestion.hint ? (\n\t\t\t\t<button className=\"btn-show-hint\" onClick={ this.showHint }>\n\t\t\t\t\t<span>{ __( 'Hint', 'learnpress' ) }</span>\n\t\t\t\t</button>\n\t\t\t) : ''\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithDispatch( ( dispatch, { id } ) => {\n\t\tconst {\n\t\t\tshowHint,\n\t\t} = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tshowHint( id, show ) {\n\t\t\t\tshowHint( id, show );\n\t\t\t},\n\t\t};\n\t} )\n)( ButtonHint );\n","import { Component } from '@wordpress/element';\nimport { withSelect, withDispatch, select } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nclass Buttons extends Component {\n\tstartQuiz = ( event ) => {\n\t\tevent && event.preventDefault();\n\t\tconst btn = document.querySelector( '.lp-button.start' );\n\t\tbtn && btn.setAttribute( 'disabled', 'disabled' );\n\t\tbtn.classList.add( 'loading' );\n\t\tconst { startQuiz, status } = this.props;\n\n\t\tif ( status === 'completed' ) {\n\t\t\tconst { confirm, isOpen } = select( 'learnpress/modal' );\n\n\t\t\tif ( 'no' === confirm( __( 'Are you sure you want to retake the quiz?', 'learnpress' ), this.startQuiz ) ) {\n\t\t\t\t! isOpen() && btn && btn.removeAttribute( 'disabled' );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// No require enroll\n\t\t/*if ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\t// Reset data\n\t\t\twindow.localStorage.removeItem( 'quiz_start_' + lpQuizSettings.id );\n\t\t\twindow.localStorage.removeItem( 'quiz_userdata_' + lpQuizSettings.id );\n\t\t\twindow.localStorage.setItem( 'quiz_start_' + lpQuizSettings.id, Date.now() );\n\n\t\t\t// Set retake to local.storage\n\t\t\tconst retakenNumber = window.localStorage.getItem( 'quiz_retake_' + lpQuizSettings.id );\n\t\t\tif ( retakenNumber >= 1 ) {\n\t\t\t\twindow.localStorage.setItem( 'quiz_retake_' + lpQuizSettings.id, parseInt( retakenNumber ) + 1 );\n\t\t\t} else {\n\t\t\t\twindow.localStorage.setItem( 'quiz_retake_' + lpQuizSettings.id, 1 );\n\t\t\t}\n\t\t}*/\n\n\t\tstartQuiz();\n\t};\n\n\tnav = ( to ) => ( event ) => {\n\t\tlet {\n\t\t\tquestionNav,\n\t\t\tcurrentPage,\n\t\t\tnumPages,\n\t\t\tsetCurrentPage,\n\t\t} = this.props;\n\n\t\tswitch ( to ) {\n\t\tcase 'prev':\n\t\t\tif ( currentPage > 1 ) {\n\t\t\t\tcurrentPage = currentPage - 1;\n\t\t\t} else if ( questionNav === 'infinity' ) {\n\t\t\t\tcurrentPage = numPages;\n\t\t\t} else {\n\t\t\t\tcurrentPage = 1;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif ( currentPage < numPages ) {\n\t\t\t\tcurrentPage = currentPage + 1;\n\t\t\t} else if ( questionNav === 'infinity' ) {\n\t\t\t\tcurrentPage = 1;\n\t\t\t} else {\n\t\t\t\tcurrentPage = numPages;\n\t\t\t}\n\t\t}\n\n\t\tsetCurrentPage( currentPage );\n\t};\n\n\tmoveTo = ( pageNum ) => ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst {\n\t\t\tnumPages,\n\t\t\tsetCurrentPage,\n\t\t} = this.props;\n\n\t\tif ( pageNum < 1 || pageNum > numPages ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetCurrentPage( pageNum );\n\t};\n\n\tisLast = () => {\n\t\tconst { currentPage, numPages } = this.props;\n\n\t\treturn currentPage === numPages;\n\t};\n\n\tisFirst = () => {\n\t\tconst { currentPage } = this.props;\n\n\t\treturn currentPage === 1;\n\t};\n\n\tsubmit = () => {\n\t\tconst { submitQuiz } = this.props;\n\n\t\tconst { confirm } = select( 'learnpress/modal' );\n\n\t\tif ( 'no' === confirm( __( 'Are you sure to submit the quiz?', 'learnpress' ), this.submit ) ) {\n\t\t\treturn;\n\t\t}\n\t\tsubmitQuiz();\n\t};\n\n\tsetQuizMode = ( mode ) => () => {\n\t\tconst { setQuizMode } = this.props;\n\n\t\tsetQuizMode( mode );\n\t};\n\n\tisReviewing = () => {\n\t\tconst { isReviewing } = this.props;\n\n\t\treturn isReviewing;\n\t};\n\n\tpageNumbers( args ) {\n\t\tconst { numPages, currentPage } = this.props;\n\n\t\tif ( numPages < 2 ) {\n\t\t\treturn '';\n\t\t}\n\n\t\targs = {\n\t\t\tnumPages,\n\t\t\tcurrentPage,\n\t\t\tmidSize: 1,\n\t\t\tendSize: 1,\n\t\t\tprevNext: true,\n\t\t\t...( args || {} ),\n\t\t};\n\n\t\tif ( args.endSize < 1 ) {\n\t\t\targs.endSize = 1;\n\t\t}\n\n\t\tif ( args.midSize < 0 ) {\n\t\t\targs.midSize = 1;\n\t\t}\n\n\t\tconst numbers = [ ...Array( numPages ).keys() ];\n\t\tlet dots = false;\n\n\t\treturn (\n\t\t\t<div className=\"nav-links\">\n\n\t\t\t\t{ args.prevNext && ! this.isFirst() && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"page-numbers prev\"\n\t\t\t\t\t\tdata-type=\"question-navx\"\n\t\t\t\t\t\tonClick={ this.nav( 'prev' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Prev', 'learnpress' ) }\n\t\t\t\t\t</button>\n\t\t\t\t) }\n\n\t\t\t\t{ numbers.map( ( number ) => {\n\t\t\t\t\tnumber = number + 1;\n\n\t\t\t\t\tif ( number === args.currentPage ) {\n\t\t\t\t\t\tdots = true;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span key={ `page-number-${ number }` } className=\"page-numbers current\">{ number }</span>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( number <= args.endSize || ( args.currentPage && number >= args.currentPage - args.midSize && number <= args.currentPage + args.midSize ) || number > args.numPages - args.endSize ) {\n\t\t\t\t\t\tdots = true;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tkey={ `page-number-${ number }` }\n\t\t\t\t\t\t\t\tclassName=\"page-numbers\"\n\t\t\t\t\t\t\t\tonClick={ this.moveTo( number ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ number }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if ( dots ) {\n\t\t\t\t\t\tdots = false;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span key={ `page-number-${ number }` } className=\"page-numbers dots\">&hellip;</span>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn '';\n\t\t\t\t} ) }\n\n\t\t\t\t{ args.prevNext && ! this.isLast() && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"page-numbers next\"\n\t\t\t\t\t\tdata-type=\"question-navx\"\n\t\t\t\t\t\tonClick={ this.nav( 'next' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Next', 'learnpress' ) }\n\t\t\t\t\t</button>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tstatus,\n\t\t\tquestionNav,\n\t\t\tisReviewing,\n\t\t\tshowReview,\n\t\t\tnumPages,\n\t\t\tquestion,\n\t\t\tquestionsPerPage,\n\t\t\tcanRetry,\n\t\t\tretakeNumber,\n\t\t\trequiredPassword,\n\t\t\tallowRetake,\n\t\t} = this.props;\n\n\t\tconst classNames = [ 'quiz-buttons' ];\n\n\t\tif ( status === 'started' || isReviewing ) {\n\t\t\tclassNames.push( 'align-center' );\n\t\t}\n\n\t\tif ( questionNav === 'questionNav' ) {\n\t\t\tclassNames.push( 'infinity' );\n\t\t}\n\n\t\tif ( this.isFirst() ) {\n\t\t\tclassNames.push( 'is-first' );\n\t\t}\n\n\t\tif ( this.isLast() ) {\n\t\t\tclassNames.push( 'is-last' );\n\t\t}\n\n\t\tconst popupSidebar = document.querySelector( '#popup-sidebar' );\n\t\tconst quizzApp = document.querySelector( '#learn-press-quiz-app' );\n\n\t\tlet styles = '';\n\n\t\tif ( status === 'started' || isReviewing ) {\n\t\t\tstyles = { marginLeft: popupSidebar && popupSidebar.offsetWidth / 2, width: quizzApp && quizzApp.offsetWidth };\n\t\t} else {\n\t\t\tstyles = null;\n\t\t}\n\t\tlet navPositionClass = ' fixed';\n\t\tif ( lpQuizSettings.navigationPosition == 'no' ) {\n\t\t\tnavPositionClass = ' nav-center';\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className={ classNames.join( ' ' ) }>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ `button-left` + ( ( status === 'started' || isReviewing ) ? navPositionClass : '' ) }\n\t\t\t\t\t\tstyle={ styles }\n\t\t\t\t\t>\n\n\t\t\t\t\t\t{ ( ( status === 'completed' && canRetry ) || -1 !== [ '', 'viewed' ].indexOf( status ) ) && ! isReviewing && ! requiredPassword && (\n\t\t\t\t\t\t\t<button className=\"lp-button start\" onClick={ this.startQuiz }>\n\t\t\t\t\t\t\t\t{ ( status === 'completed' ) ? `${ __( 'Retake', 'learnpress' ) } ${ ! allowRetake ? ` ${ retakeNumber ? ` (${ retakeNumber })` : '' }` : '' } ` :\t' ' + __( 'Start', 'learnpress' ) }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ ( 'started' === status || isReviewing ) && ( numPages > 1 ) && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"questions-pagination\">\n\t\t\t\t\t\t\t\t\t{ this.pageNumbers() }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"button-right\">\n\t\t\t\t\t\t{ ( 'started' === status ) && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{ ( ( 'infinity' === questionNav || this.isLast() ) && ! isReviewing ) && (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"lp-button submit-quiz\"\n\t\t\t\t\t\t\t\t\t\tonClick={ this.submit }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Finish Quiz', 'learnpress' ) }\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ isReviewing && showReview && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"lp-button back-quiz\"\n\t\t\t\t\t\t\t\tonClick={ this.setQuizMode( '' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Result', 'learnpress' ) }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ 'completed' === status && showReview && ! isReviewing && (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"lp-button review-quiz\"\n\t\t\t\t\t\t\t\tonClick={ this.setQuizMode( 'reviewing' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Review', 'learnpress' ) }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{ this.props.message && this.props.success !== true && (\n\t\t\t\t\t<div className=\"learn-press-message error\">\n\t\t\t\t\t\t{ this.props.message }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n}\n\n/**\n * Helper function to check a button should be show or not.\n *\n * Buttons [hint, check]\n */\nexport const MaybeShowButton = compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetData,\n\t\t} = select( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tstatus: getData( 'status' ),\n\t\t\tshowCheck: getData( 'instantCheck' ),\n\t\t\tcheckedQuestions: getData( 'checkedQuestions' ),\n\t\t\thintedQuestions: getData( 'hintedQuestions' ),\n\t\t\tquestionsPerPage: getData( 'questionsPerPage' ),\n\t\t};\n\t} )\n)( ( props ) => {\n\tconst {\n\t\tshowCheck,\n\t\tcheckedQuestions,\n\t\thintedQuestions,\n\t\tquestion,\n\t\tstatus,\n\t\ttype,\n\t\tButton,\n\t} = props;\n\n\tif ( status !== 'started' ) {\n\t\treturn false;\n\t}\n\n\tconst theButton = <Button question={ question } />;\n\n\tswitch ( type ) {\n\tcase 'hint':\n\n\t\tif ( ! hintedQuestions ) {\n\t\t\treturn theButton;\n\t\t}\n\n\t\tif ( ! question.hasHint ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn hintedQuestions.indexOf( question.id ) === -1 && theButton;\n\n\tcase 'check':\n\n\t\tif ( ! showCheck ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( ! checkedQuestions ) {\n\t\t\treturn theButton;\n\t\t}\n\n\t\treturn checkedQuestions.indexOf( question.id ) === -1 && theButton;\n\t}\n} );\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetData,\n\t\t\tgetCurrentQuestion,\n\t\t} = select( 'learnpress/quiz' );\n\n\t\tconst data = {\n\t\t\tid: getData( 'id' ),\n\t\t\tstatus: getData( 'status' ),\n\t\t\tquestionIds: getData( 'questionIds' ),\n\t\t\tquestionNav: getData( 'questionNav' ),\n\t\t\tisReviewing: getData( 'reviewQuestions' ) && getData( 'mode' ) === 'reviewing',\n\t\t\tshowReview: getData( 'reviewQuestions' ),\n\t\t\tshowCheck: getData( 'instantCheck' ),\n\t\t\tcheckedQuestions: getData( 'checkedQuestions' ),\n\t\t\thintedQuestions: getData( 'hintedQuestions' ),\n\t\t\tnumPages: getData( 'numPages' ),\n\t\t\tpages: getData( 'pages' ),\n\t\t\tcurrentPage: getData( 'currentPage' ),\n\t\t\tquestionsPerPage: getData( 'questionsPerPage' ),\n\t\t\tpageNumbers: getData( 'pageNumbers' ),\n\t\t\tkeyPressed: getData( 'keyPressed' ),\n\t\t\tcanRetry: getData( 'retakeCount' ) > 0 && getData( 'retaken' ) < getData( 'retakeCount' ),\n\t\t\tretakeNumber: getData( 'retakeCount' ) > 0 && getData( 'retaken' ) < getData( 'retakeCount' ) ? getData( 'retakeCount' ) - getData( 'retaken' ) : null,\n\t\t\tmessage: getData( 'messageResponse' ) || false,\n\t\t\tsuccess: getData( 'successResponse' ) !== undefined ? getData( 'successResponse' ) : true,\n\t\t\trequiredPassword: getData( 'requiredPassword' ),\n\t\t\tallowRetake: getData( 'allowRetake' ),\n\t\t};\n\n\t\tif ( data.questionsPerPage === 1 ) {\n\t\t\tdata.question = getCurrentQuestion( 'object' );\n\t\t}\n\n\t\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\tconst retakenCurrent = window.localStorage.getItem( 'quiz_off_retaken_' + lpQuizSettings.id );\n\n\t\t\tif ( getData( 'retakeCount' ) > retakenCurrent ) {\n\t\t\t\tdata.retakeNumber = getData( 'retakeCount' ) - retakenCurrent;\n\t\t\t\tdata.canRetry = true;\n\t\t\t} else {\n\t\t\t\tdata.canRetry = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( data.allowRetake ) {\n\t\t\tdata.canRetry = true;\n\t\t}\n\n\t\treturn data;\n\t} ),\n\twithDispatch( ( dispatch, { id } ) => {\n\t\tconst {\n\t\t\tstartQuiz,\n\t\t\tsetCurrentQuestion,\n\t\t\tsubmitQuiz,\n\t\t\tsetQuizMode,\n\t\t\tshowHint,\n\t\t\tcheckAnswer,\n\t\t\tsetCurrentPage,\n\t\t} = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tstartQuiz,\n\t\t\tsetCurrentQuestion,\n\t\t\tsetQuizMode,\n\t\t\tsetCurrentPage,\n\t\t\tsubmitQuiz( id ) {\n\t\t\t\tsubmitQuiz( id );\n\t\t\t},\n\t\t\tshowHint( id ) {\n\t\t\t\tshowHint( id );\n\t\t\t},\n\t\t\tcheckAnswer( id ) {\n\t\t\t\tcheckAnswer( id );\n\t\t\t},\n\t\t};\n\t} ),\n] )( Buttons );\n","/**\n * Quizz Content.\n * Edit: Use React hook.\n *\n * @author nhamdv - ThimPress\n */\nimport { select } from '@wordpress/data';\n\nconst Content = () => {\n\tconst content = select( 'learnpress/quiz' ).getData( 'content' );\n\n\treturn (\n\t\t<div className=\"quiz-content\" dangerouslySetInnerHTML={ { __html: content } } />\n\t);\n};\n\nexport default Content;\n","const formatDuration = ( seconds ) => {\n\tlet d;\n\n\tconst dayInSeconds = 3600 * 24;\n\n\tif ( seconds > dayInSeconds ) {\n\t\td = ( seconds - ( seconds % dayInSeconds ) ) / dayInSeconds;\n\t\tseconds = seconds % dayInSeconds;\n\t} else if ( seconds == dayInSeconds ) {\n\t\treturn '24:00';\n\t}\n\n\tconst x = ( new Date( seconds * 1000 ).toUTCString() ).match( /\\d{2}:\\d{2}:\\d{2}/ )[ 0 ].split( ':' );\n\n\tif ( d ) {\n\t\tx[ 0 ] = parseInt( x[ 0 ] ) + ( d * 24 );\n\t}\n\n\tconst html = x.join( ':' );\n\n\treturn html;\n};\n\nexport default formatDuration;\n","export { default as Title } from './title';\nexport { default as Content } from './content';\nexport { default as Meta } from './meta';\nexport { default as Buttons } from './buttons';\nexport { default as Questions } from './questions';\nexport { default as Attempts } from './attempts';\nexport { default as Timer } from './timer';\nexport { default as Result } from './result';\nexport { default as Status } from './status';\n","/**\n * Quiz Meta.\n * Edit: Use React Hook.\n *\n * @author Nhamdv - ThimPress\n */\nimport { select } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nimport { default as formatDuration } from '../duration';\nconst { Hook } = LP;\n\nconst Meta = () => {\n\tconst getData = ( attr ) => {\n\t\treturn select( 'learnpress/quiz' ).getData( attr );\n\t};\n\n\tconst metaFields = Hook.applyFilters( 'quiz-meta-fields', {\n\t\tduration: {\n\t\t\ttitle: __( 'Duration:', 'learnpress' ),\n\t\t\tname: 'duration',\n\t\t\tcontent: formatDuration( getData( 'duration' ) ) || '--',\n\t\t},\n\t\tpassingGrade: {\n\t\t\ttitle: __( 'Passing grade:', 'learnpress' ),\n\t\t\tname: 'passing-grade',\n\t\t\tcontent: getData( 'passingGrade' ) || '--',\n\t\t},\n\t\tquestionsCount: {\n\t\t\ttitle: __( 'Questions:', 'learnpress' ),\n\t\t\tname: 'questions-count',\n\t\t\tcontent: getData( 'questionIds' ) ? getData( 'questionIds' ).length : 0,\n\t\t},\n\t} );\n\n\treturn (\n\t\tmetaFields && (\n\t\t\t<>\n\t\t\t\t<ul className=\"quiz-intro\">\n\t\t\t\t\t{ Object.values( metaFields ).map( ( field, i ) => {\n\t\t\t\t\t\tconst id = field.name || i;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={ `quiz-intro-field-${ i }` } className={ `quiz-intro-item quiz-intro-item--${ id }` }>\n\t\t\t\t\t\t\t\t<div className=\"quiz-intro-item__title\" dangerouslySetInnerHTML={ { __html: field.title } } />\n\t\t\t\t\t\t\t\t<span className=\"quiz-intro-item__content\" dangerouslySetInnerHTML={ { __html: field.content } } />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t</>\n\t\t)\n\t);\n};\n\nexport default Meta;\n","import { default as ButtonHint } from '../buttons/button-hint';\nimport { default as ButtonCheck } from '../buttons/button-check';\nimport { MaybeShowButton } from '../buttons';\nimport { Fragment } from '@wordpress/element';\n\nconst Buttons = function Buttons( props ) {\n\tconst {\n\t\tquestion,\n\t} = props;\n\n\tconst buttons = {\n\t\t'instant-check': () => {\n\t\t\treturn (\n\t\t\t\t<MaybeShowButton\n\t\t\t\t\ttype=\"check\"\n\t\t\t\t\tButton={ ButtonCheck }\n\t\t\t\t\tquestion={ question }\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\thint: () => {\n\t\t\treturn (\n\t\t\t\t<MaybeShowButton\n\t\t\t\t\ttype=\"hint\"\n\t\t\t\t\tButton={ ButtonHint }\n\t\t\t\t\tquestion={ question }\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{ LP.config.questionFooterButtons().map( ( name ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment key={ `button-${ name }` }>\n\t\t\t\t\t\t{ buttons[ name ] && buttons[ name ]() }\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</>\n\t);\n};\n\nexport default Buttons;\n","import { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\nimport Question from './question';\n\nclass Questions extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.needToTop = false;\n\t\tthis.state = {\n\t\t\tisReviewing: null,\n\t\t\tcurrentPage: 0,\n\t\t\tself: this,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( props, state ) {\n\t\tconst checkProps = [ 'isReviewing', 'currentPage' ];\n\t\tconst changedProps = {};\n\n\t\tfor ( let i = 0; i < checkProps.length; i++ ) {\n\t\t\tif ( props[ checkProps[ i ] ] !== state[ checkProps[ i ] ] ) {\n\t\t\t\tchangedProps[ checkProps[ i ] ] = props[ checkProps[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\tif ( Object.values( changedProps ).length ) {\n\t\t\tstate.self.needToTop = true;\n\t\t\treturn changedProps;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t// componentWillReceiveProps(nextProps){\n\t//     const checkProps = ['isReviewing', 'currentPage'];\n\t//\n\t//     for(let i = 0; i < checkProps.length; i++){\n\t//         if(this.props[checkProps[i]] !== nextProps[checkProps[i]]){\n\t//             this.needToTop = true;\n\t//             return;\n\t//         }\n\t//     }\n\t//\n\t// }\n\n\t// componentWillUpdate() {\n\t//     this.needToTop = this.state.needToTop;\n\t//     this.setState({needToTop: false});\n\t// }\n\n\tcomponentDidUpdate() {\n\t\tif ( this.needToTop ) {\n\t\t\tjQuery( '#popup-content' )\n\t\t\t\t.animate( { scrollTop: 0 } )\n\t\t\t\t.find( '.content-item-scrollable:last' )\n\t\t\t\t.animate( { scrollTop: 0 } );\n\t\t\tthis.needToTop = false;\n\t\t}\n\t}\n\n\tstartQuiz = ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst {\n\t\t\tstartQuiz,\n\t\t} = this.props;\n\n\t\tstartQuiz();\n\t};\n\n\tisInVisibleRange = ( id, index ) => {\n\t\tconst {\n\t\t\tcurrentPage,\n\t\t\tquestionsPerPage,\n\t\t} = this.props;\n\t\treturn currentPage === Math.ceil( index / questionsPerPage );\n\t};\n\n\tnav = ( event ) => {\n\t\tconst { sendKey } = this.props;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase 37:\n\t\t\treturn sendKey( 'left' );\n\t\tcase 38:\n\t\t\treturn;\n\t\tcase 39:\n\t\t\treturn sendKey( 'right' );\n\t\tcase 40:\n\t\t\treturn;\n\t\tdefault:\n\t\t\tif ( event.keyCode >= 49 && event.keyCode <= 57 ) {\n\t\t\t\tsendKey( event.keyCode - 48 );\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tstatus,\n\t\t\tcurrentQuestion,\n\t\t\tquestions,\n\t\t\tquestionsRendered,\n\t\t\tisReviewing,\n\t\t\tquestionsPerPage,\n\t\t} = this.props;\n\t\tlet isShow = true;\n\n\t\tif ( status === 'completed' && ! isReviewing ) {\n\t\t\tisShow = false;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div tabIndex={ 100 } onKeyUp={ this.nav }>\n\t\t\t\t\t<div className=\"quiz-questions\" style={ { display: isShow ? '' : 'none' } }>\n\t\t\t\t\t\t{ questions.map( ( question, index ) => {\n\t\t\t\t\t\t\tconst isCurrent = questionsPerPage ? false : currentQuestion === question.id;\n\t\t\t\t\t\t\tconst isRendered = questionsRendered && questionsRendered.indexOf( question.id ) !== -1;\n\t\t\t\t\t\t\tconst isVisible = this.isInVisibleRange( question.id, index + 1 );\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t( isRendered || ! isRendered ) || isVisible\n\t\t\t\t\t\t\t\t\t? <Question\n\t\t\t\t\t\t\t\t\t\t\tkey={ `loop-question-${ question.id }` }\n\t\t\t\t\t\t\t\t\t\t\tisCurrent={ isCurrent }\n\t\t\t\t\t\t\t\t\t\t\tisShow={ isVisible }\n\t\t\t\t\t\t\t\t\t\t\tisShowIndex={ questionsPerPage ? index + 1 : false }\n\t\t\t\t\t\t\t\t\t\t\tquestionsPerPage={ questionsPerPage }\n\t\t\t\t\t\t\t\t\t\t\tquestion={ question }\n\t\t\t\t\t\t\t\t\t/> : ''\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, a, b ) => {\n\t\tconst {\n\t\t\tgetData,\n\t\t\tgetQuestions,\n\t\t} = select( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tstatus: getData( 'status' ),\n\t\t\tcurrentQuestion: getData( 'currentQuestion' ),\n\t\t\tquestions: getQuestions(),\n\t\t\tquestionsRendered: getData( 'questionsRendered' ),\n\t\t\tisReviewing: getData( 'mode' ) === 'reviewing',\n\t\t\tnumPages: getData( 'numPages' ),\n\t\t\tcurrentPage: getData( 'currentPage' ),\n\t\t\tquestionsPerPage: getData( 'questionsPerPage' ) || 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst {\n\t\t\tstartQuiz,\n\t\t\tsendKey,\n\t\t} = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tstartQuiz,\n\t\t\tsendKey,\n\t\t};\n\t} )\n)( Questions );\n","import { Component, Fragment } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __, sprintf } from '@wordpress/i18n';\nimport Buttons from './buttons';\nimport { MaybeShowButton } from '../buttons';\nimport { default as ButtonCheck } from '../buttons/button-check';\nimport { default as ButtonHint } from '../buttons/button-hint';\n\nconst $ = window.jQuery;\nconst { uniqueId, isArray, isNumber, bind } = lodash;\n\nclass Question extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\ttime: null,\n\t\t\tshowHint: false,\n\t\t};\n\n\t\tthis.$wrap = null;\n\t}\n\n\tcomponentDidMount( a ) {\n\t\tconst {\n\t\t\tquestion,\n\t\t\tisCurrent,\n\t\t\tmarkQuestionRendered,\n\t\t} = this.props;\n\n\t\tif ( isCurrent ) {\n\t\t\tmarkQuestionRendered( question.id );\n\t\t}\n\n\t\tif ( ! this.state.time ) {\n\t\t\tthis.setState( {\n\t\t\t\ttime: new Date(),\n\t\t\t} );\n\t\t}\n\n\t\tLP.Hook.doAction( 'lp-question-compatible-builder' );\n\n\t\tif ( typeof MathJax !== 'undefined' ) {\n\t\t\tMathJax.Hub.Queue( [ 'Typeset', MathJax.Hub ] );\n\t\t}\n\n\t\treturn a;\n\t}\n\n\tsetRef = ( el ) => {\n\t\tthis.$wrap = $( el );\n\t};\n\n\tparseOptions = ( options ) => {\n\t\tif ( options ) {\n\t\t\toptions = ! isArray( options ) ? JSON.parse( CryptoJS.AES.decrypt( options.data, options.key, { format: CryptoJSAesJson } ).toString( CryptoJS.enc.Utf8 ) ) : options;\n\t\t\toptions = ! isArray( options ) ? JSON.parse( options ) : options;\n\t\t}\n\n\t\treturn options || [];\n\t};\n\n\tgetWrapperClass = () => {\n\t\tconst { question, answered } = this.props;\n\n\t\tconst classes = [ 'question', 'question-' + question.type ];\n\t\tconst options = this.parseOptions( question.options );\n\n\t\tif ( options.length && options[ 0 ].isTrue !== undefined ) {\n\t\t\tclasses.push( 'question-answered' );\n\t\t}\n\n\t\treturn classes;\n\t};\n\n\tgetEditLink = () => {\n\t\tconst {\n\t\t\tquestion,\n\t\t\teditPermalink,\n\t\t} = this.props;\n\n\t\treturn editPermalink ? editPermalink.replace( /post=(.*[0-9])/, `post=${ question.id }` ) : '';\n\t};\n\n\teditPermalink = ( editPermalink ) => {\n\t\treturn sprintf( '<a href=\"%s\">%s</a>', editPermalink, __( 'Edit', 'learnpress' ) );\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tquestion,\n\t\t\tisShow,\n\t\t\tisShowIndex,\n\t\t\tisShowHint,\n\t\t\tstatus,\n\t\t} = this.props;\n\n\t\tconst QuestionTypes = LP.questionTypes.default;\n\t\tconst editPermalink = this.getEditLink();\n\n\t\tif ( editPermalink ) {\n\t\t\tjQuery( '#wp-admin-bar-edit-lp_question' ).find( '.ab-item' ).attr( 'href', editPermalink );\n\t\t}\n\n\t\tconst titleParts = {\n\t\t\tindex: () => {\n\t\t\t\treturn ( isShowIndex ? <span className=\"question-index\">{ isShowIndex }.</span> : '' );\n\t\t\t},\n\n\t\t\ttitle: () => {\n\t\t\t\treturn ( <span dangerouslySetInnerHTML={ { __html: question.title } } /> );\n\t\t\t},\n\n\t\t\thint: () => {\n\t\t\t\treturn <ButtonHint question={ question }></ButtonHint>;\n\t\t\t},\n\n\t\t\t'edit-permalink': () => {\n\t\t\t\treturn (\n\t\t\t\t\teditPermalink && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={ { __html: this.editPermalink( editPermalink ) } }\n\t\t\t\t\t\t\tclassName=\"edit-link\">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\n\t\tconst blocks = {\n\t\t\ttitle: () => {\n\t\t\t\treturn (\n\t\t\t\t\t<h4 className=\"question-title\">\n\t\t\t\t\t\t{ LP.config.questionTitleParts().map( ( name ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Fragment key={ `title-part-${ name }` }>\n\t\t\t\t\t\t\t\t\t{ titleParts[ name ] && titleParts[ name ]() }\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</h4>\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tcontent: () => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"question-content\" dangerouslySetInnerHTML={ { __html: question.content } } />\n\t\t\t\t);\n\t\t\t},\n\n\t\t\t'answer-options': () => {\n\t\t\t\treturn (\n\t\t\t\t\tthis.$wrap && <QuestionTypes { ...{ ...this.props, $wrap: this.$wrap } } />\n\t\t\t\t);\n\t\t\t},\n\n\t\t\texplanation: () => {\n\t\t\t\treturn (\n\t\t\t\t\tquestion.explanation && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"question-explanation-content\">\n\t\t\t\t\t\t\t\t<strong className=\"explanation-title\">{ __( 'Explanation', 'learnpress' ) }:</strong>\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={ { __html: question.explanation } }>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\thint: () => {\n\t\t\t\treturn (\n\t\t\t\t\tquestion.hint && ! question.explanation && question.showHint && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"question-hint-content\">\n\t\t\t\t\t\t\t\t<strong className=\"hint-title\">{ __( 'Hint', 'learnpress' ) }:</strong>\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={ { __html: question.hint } } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tbuttons: () => {\n\t\t\t\treturn (\n\t\t\t\t\t( 'started' === status ) && <Buttons question={ question } />\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\n\t\tconst configBlocks = LP.config.questionBlocks();\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className={ this.getWrapperClass().join( ' ' ) }\n\t\t\t\t\tstyle={ { display: isShow ? '' : 'none' } }\n\t\t\t\t\tdata-id={ question.id }\n\t\t\t\t\tref={ this.setRef }>\n\n\t\t\t\t\t{ configBlocks.map( ( name ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Fragment key={ `block-${ name }` }>\n\t\t\t\t\t\t\t\t{ blocks[ name ] ? blocks[ name ]() : '' }\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { question: { id } } ) => {\n\t\tconst {\n\t\t\tgetData,\n\t\t\tgetQuestionAnswered,\n\t\t\tgetQuestionMark,\n\t\t} = select( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tstatus: getData( 'status' ),\n\t\t\tquestions: getData( 'question' ),\n\t\t\tanswered: getQuestionAnswered( id ),\n\t\t\tquestionsRendered: getData( 'questionsRendered' ),\n\t\t\teditPermalink: getData( 'editPermalink' ),\n\t\t\tnumPages: getData( 'numPages' ),\n\t\t\tmark: getQuestionMark( id ) || '',\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst {\n\t\t\tupdateUserQuestionAnswers,\n\t\t\tmarkQuestionRendered,\n\t\t} = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tmarkQuestionRendered,\n\t\t\tupdateUserQuestionAnswers,\n\t\t};\n\t} ),\n] )( Question );\n","/**\n * Quizz Result.\n * Edit: Use React hook.\n *\n * @author Nhamdv - ThimPress\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nimport { getResponse } from '../../../single-curriculum/components/items-progress';\n\nconst { debounce } = lodash;\nconst Result = () => {\n\tconst [ percentage, setPercentage ] = useState( 0 );\n\tconst [ done, setDone ] = useState( false );\n\tconst QuizID = useSelect( ( select ) => {\n\t\treturn select( 'learnpress/quiz' ).getData( 'id' );\n\t}, [] );\n\tconst results = useSelect( ( select ) => {\n\t\treturn select( 'learnpress/quiz' ).getData( 'results' );\n\t}, [] );\n\n\tconst passingGrade = useSelect( ( select ) => {\n\t\treturn select( 'learnpress/quiz' ).getData( 'passingGrade' );\n\t}, [] );\n\n\tconst submitting = useSelect( ( select ) => {\n\t\treturn select( 'learnpress/quiz' ).getData( 'submitting' );\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tanimate();\n\n\t\tlet graduation = '';\n\t\tif ( results.graduation ) {\n\t\t\tgraduation = results.graduation;\n\t\t} else if ( results.result >= passingGradeValue ) {\n\t\t\tgraduation = 'passed';\n\t\t} else {\n\t\t\tgraduation = 'failed';\n\t\t}\n\n\t\tif ( graduation ) {\n\t\t\tconst ele = document.querySelector( `.course-curriculum .course-item.course-item-${ QuizID }` );\n\n\t\t\tif ( ele ) {\n\t\t\t\tele.classList.remove( 'failed', 'passed' );\n\t\t\t\tele.classList.add( 'has-status', 'status-completed', graduation );\n\t\t\t}\n\t\t}\n\n\t\tconst item = [ ...document.querySelectorAll( '#popup-header .items-progress' ) ][ 0 ];\n\t\tconst elCurriculumSections = document.querySelector( '.curriculum-sections' );\n\n\t\tif ( item && elCurriculumSections ) {\n\t\t\tconst totalItems = item.dataset.totalItems;\n\n\t\t\tconst itemCompleted = item.querySelector( '.items-completed' );\n\t\t\tconst elProgress = item.querySelector( '.learn-press-progress__active' );\n\n\t\t\tif ( itemCompleted ) {\n\t\t\t\t// const number = parseInt( itemCompleted.textContent );\n\n\t\t\t\tconst allItemCompleted = document.querySelectorAll( '#popup-sidebar .course-curriculum .course-item.status-completed' );\n\n\t\t\t\titemCompleted.textContent = parseInt( allItemCompleted.length );\n\n\t\t\t\t// Set progress\n\t\t\t\tconst perCent = parseInt( allItemCompleted.length ) * 100 / parseInt( totalItems );\n\t\t\t\tconst percentSet = 100 - perCent;\n\n\t\t\t\telProgress.style.left = '-' + percentSet + '%';\n\t\t\t}\n\t\t}\n\t}, [ results ] );\n\n\tuseEffect( () => {\n\t\tif ( submitting !== undefined ) {\n\t\t\tupdateItemsProgress();\n\t\t}\n\t}, [ submitting ] );\n\n\tconst updateItemsProgress = () => {\n\t\tconst elements = document.querySelectorAll( '.popup-header__inner' );\n\n\t\tif ( elements.length > 0 && elements[ 0 ].querySelectorAll( 'form.form-button-finish-course' ).length === 0 ) {\n\t\t\tgetResponse( elements[ 0 ] );\n\t\t}\n\t};\n\n\tconst animate = () => {\n\t\tsetPercentage( 0 );\n\t\tsetDone( false );\n\n\t\tjQuery.easing._customEasing = function( e, f, a, h, g ) {\n\t\t\treturn ( h * Math.sqrt( 1 - ( ( f = ( f / g ) - 1 ) * f ) ) ) + a;\n\t\t};\n\n\t\tdebounce( () => {\n\t\t\tconst $el = jQuery( '<span />' ).css( {\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1,\n\t\t\t} ).appendTo( document.body );\n\n\t\t\t$el.css( 'left', 0 ).animate( { left: results.result }, {\n\t\t\t\tduration: 1500,\n\t\t\t\tstep: ( now, fx ) => {\n\t\t\t\t\tsetPercentage( now );\n\t\t\t\t},\n\t\t\t\tdone: () => {\n\t\t\t\t\tsetDone( true );\n\t\t\t\t\t$el.remove();\n\n\t\t\t\t\tjQuery( '#quizResultGrade' ).css( {\n\t\t\t\t\t\ttransform: 'scale(1.3)',\n\t\t\t\t\t\ttransition: 'all 0.25s',\n\t\t\t\t\t} );\n\n\t\t\t\t\tdebounce( () => {\n\t\t\t\t\t\tjQuery( '#quizResultGrade' ).css( {\n\t\t\t\t\t\t\ttransform: 'scale(1)',\n\t\t\t\t\t\t} );\n\t\t\t\t\t}, 500 )();\n\t\t\t\t},\n\t\t\t\teasing: '_customEasing',\n\t\t\t} );\n\t\t}, results.result > 0 ? 1000 : 10 )();\n\t};\n\n\t/**\n\t * Render HTML elements.\n\t *\n\t */\n\n\tlet percentResult = percentage;\n\n\tif ( ! Number.isInteger( percentage ) ) {\n\t\tpercentResult = parseFloat( percentage ).toFixed( 2 );\n\t}\n\n\tconst border = 10;\n\tconst width = 200;\n\tconst radius = width / 2;\n\tconst r = ( width - border ) / 2;\n\tconst circumference = r * 2 * Math.PI;\n\tconst offset = circumference - ( percentResult / 100 * circumference );\n\tconst styles = {\n\t\tstrokeDasharray: `${ circumference } ${ circumference }`,\n\t\tstrokeDashoffset: offset,\n\t};\n\tconst passingGradeValue = parseFloat( results.passingGrade || passingGrade );\n\n\tlet graduation = '';\n\tif ( results.graduation ) {\n\t\tgraduation = results.graduation;\n\t} else if ( percentResult >= passingGradeValue ) {\n\t\tgraduation = 'passed';\n\t} else {\n\t\tgraduation = 'failed';\n\t}\n\n\tlet message = '';\n\tif ( results.graduationText ) {\n\t\tmessage = results.graduationText;\n\t} else if ( graduation === 'passed' ) {\n\t\tmessage = __( 'Passed', 'learnpress' );\n\t} else {\n\t\tmessage = __( 'Failed', 'learnpress' );\n\t}\n\n\tconst classNames = [ 'quiz-result', graduation ];\n\n\treturn (\n\t\t<div className={ classNames.join( ' ' ) }>\n\t\t\t<h3 className=\"result-heading\">{ __( 'Your Result', 'learnpress' ) }</h3>\n\n\t\t\t<div id=\"quizResultGrade\" className=\"result-grade\">\n\t\t\t\t<svg className=\"circle-progress-bar\" width={ width } height={ width }>\n\t\t\t\t\t<circle className=\"circle-progress-bar__circle\" stroke=\"\" strokeWidth={ border } style={ styles }\n\t\t\t\t\t\tfill=\"transparent\" r={ r } cx={ radius } cy={ radius }></circle>\n\t\t\t\t</svg>\n\n\t\t\t\t<span className=\"result-achieved\">{ `${ percentResult }%` }</span>\n\t\t\t\t<span className=\"result-require\">\n\t\t\t\t\t{ passingGradeValue + '%' || '-' }\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t{ done && <p className=\"result-message\">{ message }</p> }\n\n\t\t\t<ul className=\"result-statistic\">\n\t\t\t\t<li className=\"result-statistic-field result-time-spend\">\n\t\t\t\t\t<span>{ __( 'Time spent', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.timeSpend }</p>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"result-statistic-field result-point\">\n\t\t\t\t\t<span>{ __( 'Points', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.userMark } / { results.mark }</p>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"result-statistic-field result-questions\">\n\t\t\t\t\t<span>{ __( 'Questions', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.questionCount }</p>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"result-statistic-field result-questions-correct\">\n\t\t\t\t\t<span>{ __( 'Correct', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.questionCorrect }</p>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"result-statistic-field result-questions-wrong\">\n\t\t\t\t\t<span>{ __( 'Wrong', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.questionWrong }</p>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"result-statistic-field result-questions-skipped\">\n\t\t\t\t\t<span>{ __( 'Skipped', 'learnpress' ) }</span>\n\t\t\t\t\t<p>{ results.questionEmpty }</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t);\n\n\tfunction timeDifference( earlierDate, laterDate ) {\n\t\tconst oDiff = new Object();\n\n\t\t//  Calculate Differences\n\t\t//  -------------------------------------------------------------------  //\n\t\tlet nTotalDiff = laterDate - earlierDate;\n\n\t\toDiff.days = Math.floor( nTotalDiff / 1000 / 60 / 60 / 24 );\n\t\tnTotalDiff -= oDiff.days * 1000 * 60 * 60 * 24;\n\n\t\toDiff.hours = Math.floor( nTotalDiff / 1000 / 60 / 60 );\n\t\tnTotalDiff -= oDiff.hours * 1000 * 60 * 60;\n\n\t\toDiff.minutes = Math.floor( nTotalDiff / 1000 / 60 );\n\t\tnTotalDiff -= oDiff.minutes * 1000 * 60;\n\n\t\toDiff.seconds = Math.floor( nTotalDiff / 1000 );\n\t\t//  -------------------------------------------------------------------  //\n\n\t\t//  Format Duration\n\t\t//  -------------------------------------------------------------------  //\n\t\t//  Format Hours\n\t\tlet hourtext = '00';\n\t\tif ( oDiff.days > 0 ) {\n\t\t\thourtext = String( oDiff.days );\n\t\t}\n\t\tif ( hourtext.length == 1 ) {\n\t\t\thourtext = '0' + hourtext;\n\t\t}\n\n\t\t//  Format Minutes\n\t\tlet mintext = '00';\n\t\tif ( oDiff.minutes > 0 ) {\n\t\t\tmintext = String( oDiff.minutes );\n\t\t}\n\t\tif ( mintext.length == 1 ) {\n\t\t\tmintext = '0' + mintext;\n\t\t}\n\n\t\t//  Format Seconds\n\t\tlet sectext = '00';\n\t\tif ( oDiff.seconds > 0 ) {\n\t\t\tsectext = String( oDiff.seconds );\n\t\t}\n\t\tif ( sectext.length == 1 ) {\n\t\t\tsectext = '0' + sectext;\n\t\t}\n\t\t//  Set Duration\n\t\tconst sDuration = hourtext + ':' + mintext + ':' + sectext;\n\t\toDiff.duration = sDuration;\n\t\t//  -------------------------------------------------------------------  //\n\n\t\treturn oDiff;\n\t}\n};\n\nexport default Result;\n","import { useEffect } from '@wordpress/element';\nimport { dispatch, select } from '@wordpress/data';\nimport Timer from '../timer';\nimport { __, sprintf } from '@wordpress/i18n';\n\nconst $ = jQuery;\nconst { debounce } = lodash;\n\nconst Status = () => {\n\tconst { submitQuiz } = dispatch( 'learnpress/quiz' );\n\n\tuseEffect( () => {\n\t\tconst $pc = $( '#popup-content' );\n\n\t\tif ( ! $pc.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst $sc = $pc.find( '.content-item-scrollable:eq(1)' );\n\t\tconst $ciw = $pc.find( '.content-item-wrap' );\n\t\tconst $qs = $pc.find( '.quiz-status' );\n\t\tconst pcTop = $qs.offset().top - 92;\n\n\t\tlet isFixed = false;\n\t\tlet marginLeft = '-' + $ciw.css( 'margin-left' );\n\n\t\t$( window ).on( 'resize.refresh-quiz-stauts-bar', debounce( function() {\n\t\t\tmarginLeft = '-' + $ciw.css( 'margin-left' );\n\n\t\t\t$qs.css( {\n\t\t\t\t'margin-left': marginLeft,\n\t\t\t\t'margin-right': marginLeft,\n\t\t\t} );\n\t\t}, 100 ) ).trigger( 'resize.refresh-quiz-stauts-bar' );\n\n\t\t/**\n\t\t * Check when status bar is stopped in the top\n\t\t * to add new class into html\n\t\t */\n\t\t$sc.on( 'scroll', () => {\n\t\t\tif ( $sc.scrollTop() >= pcTop ) {\n\t\t\t\tif ( isFixed ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFixed = true;\n\t\t\t} else {\n\t\t\t\tif ( ! isFixed ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFixed = false;\n\t\t\t}\n\n\t\t\tif ( isFixed ) {\n\t\t\t\t$pc.addClass( 'fixed-quiz-status' );\n\t\t\t} else {\n\t\t\t\t$pc.removeClass( 'fixed-quiz-status' );\n\t\t\t}\n\t\t} );\n\t}, [] );\n\n\t/**\n\t * Submit question to record results.\n\t */\n\tconst submit = () => {\n\t\tconst { confirm } = select( 'learnpress/modal' );\n\n\t\tif ( 'no' === confirm( __( 'Are you sure to submit the quiz?', 'learnpress' ), submit ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsubmitQuiz();\n\t};\n\n\tconst getMark = () => {\n\t\tconst answered = select( 'learnpress/quiz' ).getData( 'answered' );\n\n\t\treturn Object.values( answered ).reduce( ( m, r ) => {\n\t\t\treturn m + r.mark;\n\t\t}, 0 );\n\t};\n\n\tconst { getData, getUserMark } = select( 'learnpress/quiz' );\n\n\tconst currentPage = getData( 'currentPage' );\n\tconst questionsPerPage = getData( 'questionsPerPage' );\n\tconst questionsCount = getData( 'questionIds' ).length;\n\tconst submitting = getData( 'submitting' );\n\tconst duration = getData( 'duration' );\n\tconst userMark = getUserMark();\n\n\tconst classNames = [ 'quiz-status' ];\n\n\tconst start = ( ( currentPage - 1 ) * questionsPerPage ) + 1;\n\tlet end = start + questionsPerPage - 1;\n\tlet indexHtml = '';\n\n\tend = Math.min( end, questionsCount );\n\n\tif ( submitting ) {\n\t\tclassNames.push( 'submitting' );\n\t}\n\n\tif ( end < questionsCount ) {\n\t\tif ( questionsPerPage > 1 ) {\n\t\t\tindexHtml = sprintf( __( 'Question <span>%d to %d of %d</span>', 'learnpress' ), start, end, questionsCount );\n\t\t} else {\n\t\t\tindexHtml = sprintf( __( 'Question <span>%d of %d</span>', 'learnpress' ), start, questionsCount );\n\t\t}\n\t} else {\n\t\tindexHtml = sprintf( __( 'Question <span>%d to %d</span>', 'learnpress' ), start, end );\n\t}\n\n\treturn (\n\t\t<div className={ classNames.join( ' ' ) }>\n\t\t\t<div>\n\t\t\t\t<div className=\"questions-index\" dangerouslySetInnerHTML={ { __html: indexHtml } } />\n\n\t\t\t\t<div className=\"current-point\">\n\t\t\t\t\t{ sprintf( __( 'Earned Point: %s', 'learnpress' ), userMark ) }\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"submit-quiz\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"lp-button\" id=\"button-submit-quiz\"\n\t\t\t\t\t\t\tonClick={ submit }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ ! submitting ? __( 'Finish Quiz', 'learnpress' ) : __( 'Submitting...', 'learnpress' ) }\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ <Timer /> }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Status;\n","/**\n * Edit: React hook.\n *\n * @author Nhamdv - ThimPress\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { select, dispatch } from '@wordpress/data';\n\nconst Timer = () => {\n\tconst { getData } = select( 'learnpress/quiz' );\n\tconst { submitQuiz } = dispatch( 'learnpress/quiz' );\n\tconst totalTime = getData( 'totalTime' );\n\tconst durationTime = getData( 'duration' );\n\tconst [ seconds, setSeconds ] = useState( totalTime );\n\tlet [ timeSpend, setTimeSpend ] = useState( 0 );\n\n\tuseEffect( () => {\n\t\tconst myInterval = setInterval( () => {\n\t\t\tif ( durationTime > 0 ) {\n\t\t\t\tlet remainSeconds = seconds;\n\t\t\t\tremainSeconds -= 1;\n\n\t\t\t\tif ( remainSeconds > 0 ) {\n\t\t\t\t\tsetSeconds( remainSeconds );\n\t\t\t\t\ttimeSpend++;\n\t\t\t\t\tsetTimeSpend( durationTime - remainSeconds );\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval( myInterval );\n\t\t\t\t\tsubmitQuiz();\n\t\t\t\t}\n\t\t\t} else { // Apply when set duration = 0\n\t\t\t\ttimeSpend++;\n\t\t\t\tsetTimeSpend( timeSpend );\n\t\t\t\tsetSeconds( timeSpend );\n\t\t\t}\n\t\t}, 1000 );\n\n\t\treturn () => clearInterval( myInterval );\n\t}, [ seconds, timeSpend ] );\n\n\tconst formatTime = ( separator = ':' ) => {\n\t\tconst t = [];\n\t\tlet m;\n\n\t\tif ( totalTime < 3600 ) {\n\t\t\tt.push( ( seconds - ( seconds % 60 ) ) / 60 );\n\t\t\tt.push( seconds % 60 );\n\t\t} else if ( totalTime ) {\n\t\t\tt.push( ( seconds - ( seconds % 3600 ) ) / 3600 );\n\t\t\tm = seconds % 3600;\n\t\t\tt.push( ( m - ( m % 60 ) ) / 60 );\n\t\t\tt.push( m % 60 );\n\t\t}\n\n\t\treturn t.map( ( a ) => {\n\t\t\treturn a < 10 ? `0${ a }` : a;\n\t\t} ).join( separator );\n\t};\n\n\treturn (\n\t\t<div className=\"countdown\">\n\t\t\t<i className=\"fas fa-stopwatch\"></i>\n\t\t\t<span>{ formatTime() }</span>\n\t\t\t<input type=\"hidden\" name=\"lp-quiz-time-spend\" value={ timeSpend } />\n\t\t</div>\n\t);\n};\n\nexport default Timer;\n","\nconst Title = () => {\n\treturn <h3>The title</h3>;\n};\n\nexport default Title;\n","import { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Content, Meta, Buttons, Questions, Attempts, Result, Status } from './components';\n\nimport store from './store';\n\nconst { chunk } = lodash;\nclass Quiz extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tcurrentPage: 1,\n\t\t\tnumPages: 0,\n\t\t\tpages: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { settings, setQuizData } = this.props;\n\n\t\tconst { question_ids, questions_per_page } = settings;\n\n\t\tconst chunks = chunk( question_ids, questions_per_page );\n\n\t\tsettings.currentPage = 1;\n\t\tsettings.numPages = chunks.length;\n\t\tsettings.pages = chunks;\n\n\t\tconst answered = settings.id ? localStorage.getItem( `LP_Quiz_${ settings.id }_Answered` ) : false;\n\n\t\tif ( answered ) {\n\t\t\tsettings.answered = JSON.parse( answered );\n\t\t}\n\n\t\tsetQuizData( settings );\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState, snapshot ) {\n\t\tconst { status } = prevProps;\n\t\tconst elQuizContent = document.querySelector( '.quiz-content' );\n\n\t\tif ( status !== undefined && elQuizContent ) {\n\t\t\telQuizContent.style.display = 'none';\n\t\t}\n\t}\n\n\tstartQuiz = ( event ) => {\n\t\tthis.props.startQuiz();\n\t};\n\n\trender() {\n\t\tconst { status, isReviewing } = this.props;\n\n\t\tconst isA =\n\t\t\t-1 !== [ '', 'completed', 'viewed' ].indexOf( status ) || ! status;\n\t\tconst notStarted =\n\t\t\t-1 !== [ '', 'viewed', undefined ].indexOf( status ) || ! status;\n\n\t\t// Just render content if status !== undefined (meant all data loaded)\n\t\treturn (\n\t\t\tundefined !== status && (\n\t\t\t\t<>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{ ! isReviewing && 'completed' === status && (\n\t\t\t\t\t\t\t<Result />\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ ! isReviewing && notStarted && <Meta /> }\n\n\t\t\t\t\t\t{ 'started' === status && <Status /> }\n\n\t\t\t\t\t\t{ ( -1 !== [ 'completed', 'started' ].indexOf( status ) ||\n\t\t\t\t\t\t\t\tisReviewing ) && <Questions /> }\n\n\t\t\t\t\t\t<Buttons />\n\n\t\t\t\t\t\t{ isA && ! isReviewing && <Attempts /> }\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getQuestions, getData } = select( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tquestions: getQuestions(),\n\t\t\tstatus: getData( 'status' ),\n\t\t\tstore: getData(),\n\t\t\tanswered: getData( 'answered' ),\n\t\t\tisReviewing: getData( 'mode' ) === 'reviewing',\n\t\t\tquestionIds: getData( 'questionIds' ),\n\t\t\tcheckCount: getData( 'instantCheck' ),\n\t\t\tquestionsPerPage: getData( 'questionsPerPage' ) || 1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { setQuizData, startQuiz } = dispatch( 'learnpress/quiz' );\n\n\t\treturn {\n\t\t\tsetQuizData,\n\t\t\tstartQuiz,\n\t\t};\n\t} ),\n] )( Quiz );\n","import { dispatch, select, apiFetch } from '@learnpress/data-controls';\nimport { select as wpSelect, dispatch as wpDispatch } from '@wordpress/data';\nimport { useSelect } from '@wordpress/data';\n\nfunction _dispatch() {\n\tconst args = [].slice.call( arguments, 2 );\n\tconst d = wpDispatch( arguments[ 0 ] );\n\tconst f = arguments[ 1 ];\n\td[ f ]( ...args );\n}\n\nconst { camelCaseDashObjectKeys, Hook } = LP;\n/**\n * Set user data for app.\n *\n * @param  key\n * @param  data\n * @return {{type: string, data: *}}\n */\nexport function setQuizData( key, data ) {\n\tif ( typeof key === 'string' ) {\n\t\tdata = { [ key ]: data };\n\t} else {\n\t\tdata = key;\n\t}\n\n\t// Save all data for no required enroll available\n\t/*if ( lpQuizSettings.checkNorequizenroll === 1 && window.localStorage.getItem( 'quiz_userdata_' + lpQuizSettings.id ) !== null ) {\n\t\tdata = JSON.parse( window.localStorage.getItem( 'quiz_userdata_' + lpQuizSettings.id ) );\n\t}*/\n\n\treturn {\n\t\ttype: 'SET_QUIZ_DATA',\n\t\tdata: camelCaseDashObjectKeys( data ),\n\t};\n}\n\n/**\n * Set question will display.\n *\n * @param  questionId\n * @return {{type: string, data: *}}\n */\nexport function setCurrentQuestion( questionId ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_QUESTION',\n\t\tquestionId,\n\t};\n}\n\nexport function setCurrentPage( currentPage ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_PAGE',\n\t\tcurrentPage,\n\t};\n}\n\nexport function __requestBeforeStartQuiz( quizId, courseId, userId ) {\n\treturn {\n\t\ttype: 'BEFORE_START_QUIZ',\n\t};\n}\n\nexport function __requestStartQuizSuccess( results, quizId, courseId, userId ) {\n\tHook.doAction( 'quiz-started', results, quizId, courseId, userId );\n\treturn {\n\t\ttype: 'START_QUIZ_SUCCESS',\n\t\tquizId,\n\t\tcourseId,\n\t\tuserId,\n\t\tresults,\n\t};\n}\n\n/**\n * Request to api for starting a quiz.\n */\nconst startQuiz = function*() {\n\tconst { itemId, courseId } = wpSelect( 'learnpress/quiz' ).getDefaultRestArgs();\n\n\tconst doStart = Hook.applyFilters( 'before-start-quiz', true, itemId, courseId );\n\n\tif ( true !== doStart ) {\n\t\treturn;\n\t}\n\n\tlet response = yield apiFetch( {\n\t\tpath: 'lp/v1/users/start-quiz',\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\titem_id: itemId,\n\t\t\tcourse_id: courseId,\n\t\t},\n\t} );\n\n\tconst btnStart = document.querySelector( '.lp-button.start' );\n\n\tif ( response.status !== 'error' ) {\n\t\tresponse = Hook.applyFilters( 'request-start-quiz-response', response, itemId, courseId );\n\n\t\t// No require enroll\n\t\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\tconst keyQuizOff = 'quiz_off_' + lpQuizSettings.id;\n\t\t\twindow.localStorage.removeItem( keyQuizOff );\n\t\t\tconst quizDataOff = { endTime: ( Date.now() + response.results.duration * 1000 ), status: response.results.status };\n\n\t\t\twindow.localStorage.setItem( keyQuizOff, JSON.stringify( quizDataOff ) );\n\n\t\t\t// Set Retake quiz\n\t\t\tconst keyQuizOffRetaken = 'quiz_off_retaken_' + lpQuizSettings.id;\n\t\t\tlet quizOffRetaken = window.localStorage.getItem( keyQuizOffRetaken );\n\n\t\t\tif ( null === quizOffRetaken ) {\n\t\t\t\tquizOffRetaken = 0;\n\t\t\t} else {\n\t\t\t\tquizOffRetaken++;\n\t\t\t}\n\n\t\t\twindow.localStorage.setItem( keyQuizOffRetaken, quizOffRetaken );\n\t\t\t// End\n\t\t}\n\n\t\tyield _dispatch( 'learnpress/quiz', '__requestStartQuizSuccess', camelCaseDashObjectKeys( response ), itemId, courseId );\n\t} else {\n\t\tconst elButtons = document.querySelector( '.quiz-buttons' );\n\t\tconst message = `<div class=\"learn-press-message error\">${ response.message }</div>`;\n\t\telButtons.insertAdjacentHTML( 'afterend', message );\n\t\tbtnStart.classList.remove( 'loading' );\n\t}\n};\n\nexport { startQuiz };\n\nexport function __requestSubmitQuiz() {\n\treturn {\n\t\ttype: 'SUBMIT_QUIZ',\n\t};\n}\n\nexport function __requestSubmitQuizSuccess( results, quizId, courseId ) {\n\tHook.doAction( 'quiz-submitted', results, quizId, courseId );\n\n\treturn {\n\t\ttype: 'SUBMIT_QUIZ_SUCCESS',\n\t\tresults,\n\t};\n}\n\nexport function* submitQuiz() {\n\tconst {\n\t\tgetDefaultRestArgs,\n\t\tgetQuestionsSelectedAnswers,\n\t} = wpSelect( 'learnpress/quiz' );\n\n\tconst {\n\t\titemId,\n\t\tcourseId,\n\t} = getDefaultRestArgs();\n\n\tconst doSubmit = Hook.applyFilters( 'before-submit-quiz', true );\n\n\tif ( true !== doSubmit ) {\n\t\treturn;\n\t}\n\n\tconst answered = getQuestionsSelectedAnswers();\n\n\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\tconst keyAnswer = `LP_Quiz_${ itemId }_Answered`;\n\t\tconst answerDataStr = localStorage.getItem( keyAnswer );\n\n\t\tif ( null !== answerDataStr ) {\n\t\t\tconst data = JSON.parse( answerDataStr );\n\n\t\t\tfor ( const [ k, v ] of Object.entries( data ) ) {\n\t\t\t\tanswered[ k ] = v.answered;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Get time spend did quiz - tungnx\n\tlet timeSpend = 0;\n\tconst elTimeSpend = document.querySelector( 'input[name=lp-quiz-time-spend]' );\n\n\tif ( elTimeSpend ) {\n\t\ttimeSpend = elTimeSpend.value;\n\t}\n\t// End\n\n\tlet response = yield apiFetch( {\n\t\tpath: 'lp/v1/users/submit-quiz',\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\titem_id: itemId,\n\t\t\tcourse_id: courseId,\n\t\t\tanswered,\n\t\t\ttime_spend: timeSpend,\n\t\t},\n\t} );\n\n\tresponse = Hook.applyFilters( 'request-submit-quiz-response', response, itemId, courseId );\n\n\tif ( response.status === 'success' ) {\n\t\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\tconst keyQuizOff = 'quiz_off_' + lpQuizSettings.id;\n\t\t\tconst quizDataOffStr = window.localStorage.getItem( keyQuizOff );\n\t\t\tif ( null !== quizDataOffStr ) {\n\t\t\t\tconst quizDataOff = JSON.parse( quizDataOffStr );\n\n\t\t\t\tquizDataOff.status = response.results.status;\n\t\t\t\tquizDataOff.results = response.results.results;\n\n\t\t\t\twindow.localStorage.setItem( keyQuizOff, JSON.stringify( quizDataOff ) );\n\t\t\t\twindow.localStorage.removeItem( 'LP_Quiz_' + lpQuizSettings.id + '_Answered' );\n\t\t\t}\n\t\t}\n\n\t\t//console.log( response.results );\n\n\t\tyield _dispatch( 'learnpress/quiz', '__requestSubmitQuizSuccess', camelCaseDashObjectKeys( response.results ), itemId, courseId );\n\t}\n\n\t/*if ( lpQuizSettings.checkNorequizenroll == '1' ) {\n\t\tlocalStorage.setItem( 'quiz_userdata_' + lpQuizSettings.id, JSON.stringify( wpSelect( 'learnpress/quiz' ).getData() ) );\n\t}*/\n}\n\nexport function updateUserQuestionAnswers( questionId, answers, quizId, courseId = 0, userId = 0 ) {\n\treturn {\n\t\ttype: 'UPDATE_USER_QUESTION_ANSWERS',\n\t\tquestionId,\n\t\tanswers,\n\t};\n}\n\nexport function __requestShowHintSuccess( id, showHint ) {\n\treturn {\n\t\ttype: 'SET_QUESTION_HINT',\n\t\tquestionId: id,\n\t\tshowHint,\n\t};\n}\n\nexport function* showHint( id, showHint ) {\n\tyield _dispatch( 'learnpress/quiz', '__requestShowHintSuccess', id, showHint );\n}\n\nexport function __requestCheckAnswerSuccess( id, result ) {\n\treturn {\n\t\ttype: 'CHECK_ANSWER',\n\t\tquestionId: id,\n\t\t...result,\n\t};\n}\n\nexport function* checkAnswer( id ) {\n\tconst {\n\t\tgetDefaultRestArgs,\n\t\tgetQuestionAnswered,\n\t} = wpSelect( 'learnpress/quiz' );\n\n\tconst {\n\t\titemId,\n\t\tcourseId,\n\t} = getDefaultRestArgs();\n\n\tconst result = yield apiFetch( {\n\t\tpath: 'lp/v1/users/check-answer',\n\t\tmethod: 'POST',\n\t\tdata: {\n\t\t\titem_id: itemId,\n\t\t\tcourse_id: courseId,\n\t\t\tquestion_id: id,\n\t\t\tanswered: getQuestionAnswered( id ) || '',\n\t\t},\n\t} );\n\n\tif ( result.status === 'success' ) {\n\t\t// No require enroll\n\t\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\t\tconst keyQuizOff = 'quiz_off_' + lpQuizSettings.id;\n\t\t\tconst quizDataOffStr = window.localStorage.getItem( keyQuizOff );\n\n\t\t\tif ( null !== quizDataOffStr ) {\n\t\t\t\tconst quizDataOff = JSON.parse( quizDataOffStr );\n\n\t\t\t\tconst questionOptions = result.options;\n\n\t\t\t\tif ( undefined === quizDataOff.checked_questions ) {\n\t\t\t\t\tquizDataOff.checked_questions = [];\n\t\t\t\t\tquizDataOff.checked_questions.push( id );\n\t\t\t\t} else if ( -1 === quizDataOff.checked_questions.indexOf( id ) ) {\n\t\t\t\t\tquizDataOff.checked_questions.push( id );\n\t\t\t\t}\n\n\t\t\t\tif ( undefined === quizDataOff.question_options ) {\n\t\t\t\t\tquizDataOff.question_options = {};\n\t\t\t\t\tquizDataOff.question_options[ id ] = questionOptions;\n\t\t\t\t} else if ( undefined === quizDataOff.question_options[ id ] ) {\n\t\t\t\t\tquizDataOff.question_options[ id ] = questionOptions;\n\t\t\t\t}\n\n\t\t\t\twindow.localStorage.setItem( keyQuizOff, JSON.stringify( quizDataOff ) );\n\n\t\t\t\t//console.log( quizDataOff );\n\t\t\t}\n\t\t}\n\n\t\tyield _dispatch( 'learnpress/quiz', '__requestCheckAnswerSuccess', id, camelCaseDashObjectKeys( result ) );\n\t}\n}\n\nexport function markQuestionRendered( questionId ) {\n\treturn {\n\t\ttype: 'MARK_QUESTION_RENDERED',\n\t\tquestionId,\n\t};\n}\n\nexport function setQuizMode( mode ) {\n\treturn {\n\t\ttype: 'SET_QUIZ_MODE',\n\t\tmode,\n\t};\n}\n\nexport function sendKey( keyPressed ) {\n\tsetTimeout( () => {\n\t\t_dispatch( 'learnpress/quiz', 'sendKey', '' );\n\t}, 300 );\n\n\treturn {\n\t\ttype: 'SEND_KEY',\n\t\tkeyPressed,\n\t};\n}\n","import { registerStore } from '@wordpress/data';\n\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport applyMiddlewares from './middlewares';\n\nconst { controls: dataControls } = LP.dataControls;\n\nconst store = registerStore( 'learnpress/quiz', {\n\treducer,\n\tselectors,\n\tactions,\n\tcontrols: {\n\t\t...dataControls,\n\t},\n} );\n\napplyMiddlewares( store );\n\nexport default store;\n","/**\n * External dependencies\n */\nimport refx from 'refx';\n\n/**\n * Internal dependencies\n */\n//import effects from './effects';\n\nconst effects = {\n\tENROLL_COURSE_X: ( action, store ) => {\n\t\tenrollCourse:( action, store ) => {\n\t\t\tconst { dispatch } = store;\n\n\t\t\t//dispatch()\n\t\t};\n\t},\n};\n\n/**\n * Applies the custom middlewares used specifically in the editor module.\n *\n * @param {Object} store Store Object.\n *\n * @return {Object} Update Store Object.\n */\nfunction applyMiddlewares( store ) {\n\tlet enhancedDispatch = () => {\n\t\tthrow new Error(\n\t\t\t'Dispatching while constructing your middleware is not allowed. ' +\n            'Other middleware would not be applied to this dispatch.'\n\t\t);\n\t};\n\n\tconst middlewareAPI = {\n\t\tgetState: store.getState,\n\t\tdispatch: ( ...args ) => enhancedDispatch( ...args ),\n\t};\n\n\tenhancedDispatch = refx( effects )( middlewareAPI )( store.dispatch );\n\n\tstore.dispatch = enhancedDispatch;\n\treturn store;\n}\n\nexport default applyMiddlewares;\n","import { combineReducers } from '@wordpress/data';\n\nconst { omit, flow, isArray, chunk } = lodash;\nconst { camelCaseDashObjectKeys } = LP;\nconst { get: storageGet, set: storageSet } = LP.localStorage;\nconst STORE_DATA = {};\n\nexport const setItemStatus = ( item, status ) => {\n\tconst userSettings = {\n\t\t...item.userSettings,\n\t\tstatus,\n\t};\n\n\treturn {\n\t\t...item,\n\t\tuserSettings,\n\t};\n};\n\nconst updateUserQuestionAnswer = ( state, action ) => {\n\tconst { answered, id } = state;\n\tconst newAnswer = {\n\t\t...( answered[ action.questionId ] || {} ),\n\t\tanswered: action.answers,\n\t\ttemp: true,\n\t};\n\n\tif ( id ) {\n\t\tlocalStorage.setItem( `LP_Quiz_${ id }_Answered`, JSON.stringify( {\n\t\t\t...state.answered,\n\t\t\t[ action.questionId ]: newAnswer,\n\t\t} ) );\n\t}\n\n\treturn {\n\t\t...state,\n\t\tanswered: {\n\t\t\t...state.answered,\n\t\t\t[ action.questionId ]: newAnswer,\n\t\t},\n\t};\n};\n\nconst markQuestionRendered = ( state, action ) => {\n\tconst {\n\t\tquestionsRendered,\n\t} = state;\n\n\tif ( isArray( questionsRendered ) ) {\n\t\tquestionsRendered.push( action.questionId );\n\t\treturn {\n\t\t\t...state,\n\t\t\tquestionsRendered: [ ...questionsRendered ],\n\t\t};\n\t}\n\treturn {\n\t\t...state,\n\t\tquestionsRendered: [ action.questionId ],\n\t};\n};\n\nconst resetCurrentPage = ( state, args ) => {\n\tif ( args.currentPage ) {\n\t\tstorageSet( `Q${ state.id }.currentPage`, args.currentPage );\n\t}\n\n\treturn {\n\t\t...state,\n\t\t...args,\n\t};\n};\n\nconst setQuestionHint = ( state, action ) => {\n\tconst questions = state.questions.map( ( question ) => {\n\t\treturn question.id == action.questionId ? { ...question, showHint: action.showHint } : question;\n\t} );\n\n\treturn {\n\t\t...state,\n\t\tquestions: [ ...questions ],\n\t};\n};\n\nconst checkAnswer = ( state, action ) => {\n\tconst questions = state.questions.map( ( question ) => {\n\t\tif ( question.id !== action.questionId ) {\n\t\t\treturn question;\n\t\t}\n\n\t\tconst newArgs = {\n\t\t\texplanation: action.explanation,\n\t\t};\n\n\t\tif ( action.options ) {\n\t\t\tnewArgs.options = action.options;\n\t\t}\n\n\t\treturn { ...question, ...newArgs };\n\t} );\n\n\tconst answered = {\n\t\t...state.answered,\n\t\t[ action.questionId ]: action.result,\n\t};\n\n\tlet newAnswered = localStorage.getItem( `LP_Quiz_${ state.id }_Answered` );\n\n\tif ( newAnswered ) {\n\t\tnewAnswered = {\n\t\t\t...JSON.parse( newAnswered ),\n\t\t\t...answered,\n\t\t}\n\n\t\tlocalStorage.setItem( `LP_Quiz_${ state.id }_Answered`, JSON.stringify( newAnswered ) );\n\t}\n\n\treturn {\n\t\t...state,\n\t\tquestions: [ ...questions ],\n\t\tanswered: answered,\n\t\tcheckedQuestions: [ ...state.checkedQuestions, action.questionId ],\n\t};\n};\n\nconst submitQuiz = ( state, action ) => {\n\tlocalStorage.removeItem( `LP_Quiz_${ state.id }_Answered` );\n\n\tconst questions = state.questions.map( ( question ) => {\n\t\tconst newArgs = {};\n\t\tif ( state.reviewQuestions ) {\n\t\t\tif ( action.results.questions[ question.id ]?.explanation ) {\n\t\t\t\tnewArgs.explanation = action.results.questions[ question.id ].explanation;\n\t\t\t}\n\n\t\t\tif ( action.results.questions[ question.id ]?.options ) {\n\t\t\t\tnewArgs.options = action.results.questions[ question.id ].options;\n\t\t\t}\n\t\t}\n\n\t\treturn { ...question, ...newArgs };\n\t} );\n\n\treturn resetCurrentPage( state, {\n\t\tsubmitting: false,\n\t\tcurrentPage: 1,\n\t\t...action.results,\n\t\tquestions: [ ...questions ],\n\t} );\n};\n\nconst startQuizz = ( state, action ) => {\n\tconst successResponse = ( action.results.success ) !== undefined ? action.results.success : false;\n\tconst messageResponse = action.results.message || false;\n\n\treturn resetCurrentPage( state, {\n\t\tcheckedQuestions: [],\n\t\thintedQuestions: [],\n\t\tmode: '',\n\t\tcurrentPage: 1,\n\t\t...action.results.results,\n\t\tsuccessResponse,\n\t\tmessageResponse,\n\t} );\n};\n\nexport const userQuiz = ( state = STORE_DATA, action ) => {\n\tswitch ( action.type ) {\n\tcase 'SET_QUIZ_DATA':\n\t\tif ( 1 > action.data.questionsPerPage ) {\n\t\t\taction.data.questionsPerPage = 1;\n\t\t}\n\n\t\tconst chunks = chunk( state.questionIds || action.data.questionIds, action.data.questionsPerPage );\n\n\t\taction.data.numPages = chunks.length;\n\t\taction.data.pages = chunks;\n\n\t\treturn {\n\t\t\t...state,\n\t\t\t...action.data,\n\t\t\tcurrentPage: storageGet( `Q${ action.data.id }.currentPage` ) || action.data.currentPage,\n\t\t};\n\tcase 'SUBMIT_QUIZ':\n\t\treturn {\n\t\t\t...state,\n\t\t\tsubmitting: true,\n\t\t};\n\tcase 'START_QUIZ':\n\tcase 'START_QUIZ_SUCCESS':\n\t\treturn startQuizz( state, action );\n\tcase 'SET_CURRENT_QUESTION':\n\t\tstorageSet( `Q${ state.id }.currentQuestion`, action.questionId );\n\t\treturn {\n\t\t\t...state,\n\t\t\tcurrentQuestion: action.questionId,\n\t\t};\n\tcase 'SET_CURRENT_PAGE':\n\t\tstorageSet( `Q${ state.id }.currentPage`, action.currentPage );\n\n\t\treturn {\n\t\t\t...state,\n\t\t\tcurrentPage: action.currentPage,\n\t\t};\n\tcase 'SUBMIT_QUIZ_SUCCESS':\n\t\treturn submitQuiz( state, action );\n\tcase 'UPDATE_USER_QUESTION_ANSWERS':\n\t\treturn state.status === 'started' ? updateUserQuestionAnswer( state, action ) : state;\n\tcase 'MARK_QUESTION_RENDERED':\n\t\treturn markQuestionRendered( state, action );\n\tcase 'SET_QUIZ_MODE':\n\t\tif ( action.mode == 'reviewing' ) {\n\t\t\treturn resetCurrentPage( state, {\n\t\t\t\tmode: action.mode,\n\t\t\t} );\n\t\t}\n\t\treturn {\n\t\t\t...state,\n\t\t\tmode: action.mode,\n\t\t};\n\tcase 'SET_QUESTION_HINT':\n\t\treturn setQuestionHint( state, action );\n\tcase 'CHECK_ANSWER':\n\t\treturn checkAnswer( state, action );\n\tcase 'SEND_KEY':\n\t\treturn {\n\t\t\t...state,\n\t\t\tkeyPressed: action.keyPressed,\n\t\t};\n\t}\n\treturn state;\n};\n\nexport const blocks = flow(\n\tcombineReducers,\n\t( reducer ) => ( state, action ) => {\n\t\treturn reducer( state, action );\n\t},\n\t( reducer ) => ( state, action ) => {\n\t\treturn reducer( state, action );\n\t},\n\t( reducer ) => ( state, action ) => {\n\t\treturn reducer( state, action );\n\t}\n)( {\n\ta( state = { a: 1 }, action ) {\n\t\treturn state;\n\t},\n\tb( state = { b: 2 }, action ) {\n\t\treturn state;\n\t},\n} );\n\nexport default combineReducers( { blocks, userQuiz } );\n","import { select } from '@wordpress/data';\nconst { get, isArray } = lodash;\n\nconst getQuestionOptions = function getQuestionOptions( state, id ) {\n\tconsole.time( 'parseOptions' );\n\n\tconst question = getQuestion( state, id );\n\tlet options = question.options;\n\n\toptions = ! isArray( options ) ? JSON.parse( CryptoJS.AES.decrypt( options.data, options.key, { format: CryptoJSAesJson } ).toString( CryptoJS.enc.Utf8 ) ) : options;\n\toptions = ! isArray( options ) ? JSON.parse( options ) : options;\n\n\tconsole.timeEnd( 'parseOptions' );\n\treturn options;\n};\n\nexport { getQuestionOptions };\n\n/**\n * Get current status of an item in course.\n *\n * @param state\n * @param itemId\n */\nexport function getItemStatus( state, itemId ) {\n\tconst item = select( 'course-learner/user' ).getItemById( itemId );\n\treturn item ? get( item, 'userSettings.status' ) : '';\n}\n\nexport function getProp( state, prop, defaultValue ) {\n\treturn state[ prop ] || defaultValue;\n}\n\n/**\n * Get quiz attempted.\n *\n * @param state\n * @param itemId\n * @return {Array}\n */\nexport function getQuizAttempts( state, itemId ) {\n\tconst item = select( 'course-learner/user' ).getItemById( itemId );\n\treturn item ? get( item, 'userSettings.attempts' ) : [];\n}\n\n/**\n * Get answers for a quiz user has did.\n *\n * @param state\n * @param itemId\n * @return {{}}\n */\nexport function getQuizAnswered( state, itemId ) {\n\tconst item = select( 'course-learner/user' ).getItemById( itemId );\n\treturn item ? get( item, 'userSettings.answered', {} ) : {};\n}\n\n/**\n * Get all questions in quiz.\n *\n * @param state\n * @return {*}\n */\nexport function getQuestions( state ) {\n\tconst { userQuiz } = state;\n\tconst questions = get( userQuiz, 'questions' );\n\treturn questions ? Object.values( questions ) : [];\n}\n\n/**\n * Get property of store data.\n *\n * @param state - Store data\n * @param prop - Optional. NULL will return all data.\n * @return {*}\n */\nexport function getData( state, prop ) {\n\tconst { userQuiz } = state;\n\n\tif ( prop ) {\n\t\treturn get( userQuiz, prop );\n\t}\n\n\treturn userQuiz;\n}\n\nexport function getDefaultRestArgs( state ) {\n\tconst { userQuiz } = state;\n\n\treturn {\n\t\titemId: userQuiz.id,\n\t\tcourseId: userQuiz.courseId,\n\t};\n}\n\nexport function getQuestionAnswered( state, id ) {\n\tconst { userQuiz } = state;\n\n\treturn get( userQuiz, `answered.${ id }.answered` ) || undefined;\n}\n\nexport function getQuestionMark( state, id ) {\n\tconst { userQuiz } = state;\n\n\treturn get( userQuiz, `answered.${ id }.mark` ) || undefined;\n}\n\n/**\n * Get current question is doing.\n *\n * @param {Object} state\n * @param {string} ret\n * @return {*}\n */\nexport function getCurrentQuestion( state, ret = '' ) {\n\tconst questionsPerPage = get( state, 'userQuiz.questionsPerPage' ) || 1;\n\n\tif ( questionsPerPage > 1 ) {\n\t\treturn false;\n\t}\n\n\tconst currentPage = get( state, 'userQuiz.currentPage' ) || 1;\n\treturn ret === 'object' ? get( state, `userQuiz.questions[${ currentPage - 1 }]` ) : get( state, `userQuiz.questionIds[${ currentPage - 1 }]` );\n}\n\n/**\n * Return a question contains fully data with title, content, ...\n *\n * @param state\n * @param theId\n */\nconst getQuestion = function getQuestion( state, theId ) {\n\tconst { userQuiz } = state;\n\tconst s = select( 'learnpress/quiz' );\n\tconst questions = s.getQuestions();\n\n\treturn questions.find( ( q ) => {\n\t\treturn q.id == theId;\n\t} );\n};\n\nexport { getQuestion };\n\n/**\n * If user has used 'Instant check' for a question.\n *\n * @param {Object} state - Global state for app.\n * @param {number} id\n * @return {boolean}\n */\nexport function isCheckedAnswer( state, id ) {\n\tconst checkedQuestions = get( state, 'userQuiz.checkedQuestions' ) || [];\n\n\treturn checkedQuestions.indexOf( id ) !== -1;\n}\n\nexport function isCorrect( state, id ) {\n\n}\n\n/**\n * Get questions user has selected answers.\n *\n * @param {Object} state. Global app state\n * @param state\n * @param {number} questionId\n * @return {{}}\n */\nconst getQuestionsSelectedAnswers = function( state, questionId ) {\n\tconst data = get( state, 'userQuiz.answered' );\n\tconst returnData = {};\n\n\tfor ( const loopId in data ) {\n\t\tif ( ! data.hasOwnProperty( loopId ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Answer filled by user\n\t\tif ( ( data[ loopId ].temp || data[ loopId ].blanks ) ) {\n\t\t\t// If specific a question then return it only.\n\t\t\tif ( questionId && loopId === questionId ) {\n\t\t\t\treturn data[ loopId ].answered;\n\t\t\t}\n\n\t\t\treturnData[ loopId ] = data[ loopId ].answered;\n\t\t}\n\t}\n\n\treturn returnData;\n};\n\nexport { getQuestionsSelectedAnswers };\n\n/**\n * Get mark user earned.\n * Just for questions user has used 'Instant check' button.\n *\n * @param state\n * @return {number}\n */\nexport function getUserMark( state ) {\n\tconst userQuiz = state.userQuiz || {};\n\tconst {\n\t\tanswered,\n\t\tnegativeMarking,\n\t\tquestions,\n\t\tcheckedQuestions,\n\t} = userQuiz;\n\n\tlet totalMark = 0;\n\n\tfor ( let id in answered ) {\n\t\tif ( ! answered.hasOwnProperty( id ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tid = parseInt( id );\n\t\tconst data = answered[ id ];\n\t\tconst questionMark = data.questionMark ? data.questionMark : ( function() {\n\t\t\tconst question = questions.find( ( q ) => {\n\t\t\t\treturn q.id === id;\n\t\t\t} );\n\n\t\t\treturn question ? question.point : 0;\n\t\t}() );\n\n\t\tconst isChecked = checkedQuestions.indexOf( id ) !== -1;\n\n\t\tif ( data.temp ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( negativeMarking ) {\n\t\t\tif ( data.answered ) {\n\t\t\t\ttotalMark = data.correct ? totalMark + data.mark : totalMark - questionMark;\n\t\t\t}\n\t\t} else if ( data.answered && data.correct ) {\n\t\t\ttotalMark += data.mark;\n\t\t}\n\t}\n\n\treturn totalMark > 0 ? totalMark : 0;\n}\n","import lpModalOverlay from '../utils/lp-modal-overlay';\n\nconst lpModalOverlayCompleteItem = {\n\telBtnFinishCourse: null,\n\telBtnCompleteItem: null,\n\tinit() {\n\t\tif ( ! lpModalOverlay.init() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( undefined === lpGlobalSettings || 'yes' !== lpGlobalSettings.option_enable_popup_confirm_finish ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.elBtnFinishCourse = document.querySelectorAll( '.lp-btn-finish-course' );\n\t\tthis.elBtnCompleteItem = document.querySelector( '.lp-btn-complete-item' );\n\n\t\tif ( this.elBtnCompleteItem ) {\n\t\t\tthis.elBtnCompleteItem.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst form = e.target.closest( 'form' );\n\n\t\t\t\tlpModalOverlay.elLPOverlay.show();\n\t\t\t\tlpModalOverlay.setTitleModal( form.dataset.title );\n\t\t\t\tlpModalOverlay.setContentModal( '<div class=\"pd-2em\">' + form.dataset.confirm + '</div>' );\n\t\t\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t\t\tform.submit();\n\t\t\t\t};\n\t\t\t} );\n\t\t}\n\n\t\tif ( this.elBtnFinishCourse ) {\n\t\t\tthis.elBtnFinishCourse.forEach( ( element ) => element.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst form = e.target.closest( 'form' );\n\n\t\t\t\tlpModalOverlay.elLPOverlay.show();\n\t\t\t\tlpModalOverlay.setTitleModal( form.dataset.title );\n\t\t\t\tlpModalOverlay.setContentModal( '<div class=\"pd-2em\">' + form.dataset.confirm + '</div>' );\n\t\t\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t\t\tform.submit();\n\t\t\t\t};\n\t\t\t} ) );\n\t\t}\n\t},\n};\n\nexport default lpModalOverlayCompleteItem;\n","/**\n * Compatible with Page Builder.\n *\n * @author nhamdv\n */\n\nLP.Hook.addAction( 'lp-compatible-builder', () => {\n\tLP.Hook.removeAction( 'lp-compatible-builder' );\n\n\tif ( typeof elementorFrontend !== 'undefined' ) {\n\t\t[ ...document.querySelectorAll( '#popup-content' ) ][ 0 ].addEventListener( 'scroll', () => {\n\t\t\tWaypoint.refreshAll();\n\t\t\twindow.dispatchEvent( new Event( 'resize' ) );\n\t\t} );\n\t}\n\n\tif ( typeof vc_js !== 'undefined' && typeof VcWaypoint !== 'undefined' ) {\n\t\t[ ...document.querySelectorAll( '#popup-content' ) ][ 0 ].addEventListener( 'scroll', () => {\n\t\t\tVcWaypoint.refreshAll();\n\t\t} );\n\t}\n} );\n\nLP.Hook.addAction( 'lp-quiz-compatible-builder', () => {\n\tLP.Hook.removeAction( 'lp-quiz-compatible-builder' );\n\n\tLP.Hook.doAction( 'lp-compatible-builder' );\n\n\tif ( typeof elementorFrontend !== 'undefined' ) {\n\t\treturn window.elementorFrontend.init();\n\t}\n\n\tif ( typeof vc_js !== 'undefined' ) {\n\t\tif ( typeof vc_round_charts !== 'undefined' ) {\n\t\t\tvc_round_charts();\n\t\t}\n\n\t\tif ( typeof vc_pieChart !== 'undefined' ) {\n\t\t\tvc_pieChart();\n\t\t}\n\t\tif ( typeof vc_line_charts !== 'undefined' ) {\n\t\t\tvc_line_charts();\n\t\t}\n\n\t\treturn window.vc_js();\n\t}\n} );\n\nLP.Hook.addAction( 'lp-question-compatible-builder', () => {\n\tLP.Hook.removeAction( 'lp-question-compatible-builder' );\n\tLP.Hook.removeAction( 'lp-quiz-compatible-builder' );\n\tLP.Hook.doAction( 'lp-compatible-builder' );\n\n\tif ( typeof elementorFrontend !== 'undefined' ) {\n\t\treturn window.elementorFrontend.init();\n\t}\n\n\tif ( typeof vc_js !== 'undefined' ) {\n\t\tif ( typeof vc_round_charts !== 'undefined' ) {\n\t\t\tvc_round_charts();\n\t\t}\n\n\t\tif ( typeof vc_pieChart !== 'undefined' ) {\n\t\t\tvc_pieChart();\n\t\t}\n\t\tif ( typeof vc_line_charts !== 'undefined' ) {\n\t\t\tvc_line_charts();\n\t\t}\n\n\t\treturn window.vc_js();\n\t}\n} );\n","// Rest API load content course progress - Nhamdv.\nimport { addQueryArgs } from '@wordpress/url';\nimport lpModalOverlayCompleteItem from '../../show-lp-overlay-complete-item';\n\nexport const itemsProgress = () => {\n\tconst elements = document.querySelectorAll( '.popup-header__inner' );\n\n\tif ( ! elements.length ) {\n\t\treturn;\n\t}\n\n\tif ( document.querySelector( '#learn-press-quiz-app div.quiz-result' ) !== null ) {\n\t\treturn;\n\t}\n\n\tif ( elements[ 0 ].querySelectorAll( 'form.form-button-finish-course' ).length !== 0 ) {\n\t\treturn;\n\t}\n\n\tif ( 'IntersectionObserver' in window ) {\n\t\tconst eleObserver = new IntersectionObserver( ( entries, observer ) => {\n\t\t\tentries.forEach( ( entry ) => {\n\t\t\t\tif ( entry.isIntersecting ) {\n\t\t\t\t\tconst ele = entry.target;\n\n\t\t\t\t\tgetResponse( ele );\n\n\t\t\t\t\teleObserver.unobserve( ele );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\n\t\t[ ...elements ].map( ( ele ) => eleObserver.observe( ele ) );\n\t}\n};\n\nexport const getResponse = async ( ele ) => {\n\tconst response = await wp.apiFetch( {\n\t\tpath: addQueryArgs( 'lp/v1/lazy-load/items-progress', {\n\t\t\tcourseId: lpGlobalSettings.post_id || '',\n\t\t\tuserId: lpGlobalSettings.user_id || '',\n\t\t} ),\n\t\tmethod: 'GET',\n\t} );\n\n\tconst { data } = response;\n\n\tele.innerHTML += data;\n\n\tlpModalOverlayCompleteItem.init();\n};\n","const $ = jQuery;\nlet elLPOverlay = null;\nconst lpModalOverlay = {\n\telLPOverlay: null,\n\telMainContent: null,\n\telTitle: null,\n\telBtnYes: null,\n\telBtnNo: null,\n\telFooter: null,\n\telCalledModal: null,\n\tcallBackYes: null,\n\tinstance: null,\n\tinit() {\n\t\tif ( this.instance ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.elLPOverlay = $( '.lp-overlay' );\n\n\t\tif ( ! this.elLPOverlay.length ) {\n\t\t\treturn false;\n\t\t}\n\t\telLPOverlay = this.elLPOverlay;\n\n\t\tthis.elMainContent = elLPOverlay.find( '.main-content' );\n\t\tthis.elTitle = elLPOverlay.find( '.modal-title' );\n\t\tthis.elBtnYes = elLPOverlay.find( '.btn-yes' );\n\t\tthis.elBtnNo = elLPOverlay.find( '.btn-no' );\n\t\tthis.elFooter = elLPOverlay.find( '.lp-modal-footer' );\n\n\t\t$( document ).on( 'click', '.close, .btn-no', function() {\n\t\t\telLPOverlay.hide();\n\t\t} );\n\n\t\t$( document ).on( 'click', '.btn-yes', function( e ) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\tif ( 'function' === typeof lpModalOverlay.callBackYes ) {\n\t\t\t\tlpModalOverlay.callBackYes();\n\t\t\t}\n\t\t} );\n\n\t\tthis.instance = this;\n\n\t\treturn true;\n\t},\n\tsetElCalledModal( elCalledModal ) {\n\t\tthis.elCalledModal = elCalledModal;\n\t},\n\tsetContentModal( content, event ) {\n\t\tthis.elMainContent.html( content );\n\t\tif ( 'function' === typeof event ) {\n\t\t\tevent();\n\t\t}\n\t},\n\tsetTitleModal( content ) {\n\t\tthis.elTitle.html( content );\n\t},\n};\n\nexport default lpModalOverlay;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict';\n\nfunction flattenIntoMap( map, effects ) {\n\tvar i;\n\tif ( Array.isArray( effects ) ) {\n\t\tfor ( i = 0; i < effects.length; i++ ) {\n\t\t\tflattenIntoMap( map, effects[ i ] );\n\t\t}\n\t} else {\n\t\tfor ( i in effects ) {\n\t\t\tmap[ i ] = ( map[ i ] || [] ).concat( effects[ i ] );\n\t\t}\n\t}\n}\n\nfunction refx( effects ) {\n\tvar map = {},\n\t\tmiddleware;\n\n\tflattenIntoMap( map, effects );\n\n\tmiddleware = function( store ) {\n\t\treturn function( next ) {\n\t\t\treturn function( action ) {\n\t\t\t\tvar handlers = map[ action.type ],\n\t\t\t\t\tresult = next( action ),\n\t\t\t\t\ti, handlerAction;\n\n\t\t\t\tif ( handlers ) {\n\t\t\t\t\tfor ( i = 0; i < handlers.length; i++ ) {\n\t\t\t\t\t\thandlerAction = handlers[ i ]( action, store );\n\t\t\t\t\t\tif ( handlerAction ) {\n\t\t\t\t\t\t\tstore.dispatch( handlerAction );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t};\n\n\tmiddleware.effects = map;\n\n\treturn middleware;\n}\n\nmodule.exports = refx;\n","module.exports = window[\"LP\"][\"dataControls\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Quiz from './quiz/index';\nimport './single-curriculum/components/compatible';\n\nconst { modal: { default: Modal } } = LP;\n\nexport default Quiz;\n\nexport const init = ( elem, settings ) => {\n\t// For no require enroll\n\tif ( lpQuizSettings.checkNorequizenroll === 1 ) {\n\t\tconst keyQuizOff = 'quiz_off_' + lpQuizSettings.id;\n\t\tconst quizDataOffStr = window.localStorage.getItem( keyQuizOff );\n\n\t\tif ( null !== quizDataOffStr ) {\n\t\t\tconst quizDataOff = JSON.parse( quizDataOffStr );\n\t\t\tsettings.status = quizDataOff.status;\n\n\t\t\tif ( 'started' === quizDataOff.status ) {\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tsettings.total_time = Math.floor(( quizDataOff.endTime - now ) / 1000);\n\t\t\t} else if ( 'completed' === quizDataOff.status ) {\n\t\t\t\tsettings.results = quizDataOff.results;\n\t\t\t\tsettings.answered = quizDataOff.results.answered;\n\t\t\t\tsettings.questions = quizDataOff.results.questions;\n\t\t\t}\n\n\t\t\tif ( undefined !== quizDataOff.checked_questions ) {\n\t\t\t\tsettings.checked_questions = quizDataOff.checked_questions;\n\t\t\t}\n\n\t\t\tif ( undefined !== quizDataOff.question_options ) {\n\t\t\t\t//settings.checked_questions = quizDataOff.checked_questions;\n\n\t\t\t\tfor ( const i in settings.questions ) {\n\t\t\t\t\tlet question = settings.questions[ i ];\n\n\t\t\t\t\tif ( undefined !== quizDataOff.question_options[ question.id ] ) {\n\t\t\t\t\t\tquestion.options = quizDataOff.question_options[ question.id ];\n\t\t\t\t\t}\n\n\t\t\t\t\tsettings.questions[ i ] = question;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//console.log(settings);\n\n\twp.element.render(\n\t\t<Modal><Quiz settings={ settings } /></Modal>,\n\t\t[ ...document.querySelectorAll( elem ) ][ 0 ]\n\t);\n\n\tLP.Hook.doAction( 'lp-quiz-compatible-builder' );\n};\n"],"names":["select","__","default","formatDuration","Attempts","attempts","getData","hasAttempts","length","map","row","key","questionCorrect","questionCount","timeSpend","userMark","mark","passingGrade","parseFloat","result","toFixed","graduationText","timeDifference","earlierDate","laterDate","oDiff","Object","nTotalDiff","days","Math","floor","hours","minutes","seconds","hourtext","String","mintext","sectext","sDuration","duration","classNames","Component","withDispatch","withSelect","compose","ButtonCheck","constructor","arguments","checkAnswer","question","answered","props","id","setState","loading","state","render","disable","__html","getQuestionAnswered","dispatch","ButtonHint","showHint","hint","show","Buttons","event","preventDefault","btn","document","querySelector","setAttribute","classList","add","startQuiz","status","confirm","isOpen","removeAttribute","to","questionNav","currentPage","numPages","setCurrentPage","pageNum","submitQuiz","submit","mode","setQuizMode","isReviewing","pageNumbers","args","midSize","endSize","prevNext","numbers","Array","keys","dots","isFirst","nav","number","moveTo","isLast","showReview","questionsPerPage","canRetry","retakeNumber","requiredPassword","allowRetake","push","popupSidebar","quizzApp","styles","marginLeft","offsetWidth","width","navPositionClass","lpQuizSettings","navigationPosition","join","indexOf","message","success","MaybeShowButton","showCheck","checkedQuestions","hintedQuestions","type","Button","theButton","hasHint","getCurrentQuestion","data","questionIds","pages","keyPressed","undefined","checkNorequizenroll","retakenCurrent","window","localStorage","getItem","setCurrentQuestion","Content","content","d","dayInSeconds","x","Date","toUTCString","match","split","parseInt","html","Title","Meta","Questions","Timer","Result","Status","Hook","LP","attr","metaFields","applyFilters","title","name","questionsCount","values","field","i","Fragment","buttons","config","questionFooterButtons","Question","index","ceil","sendKey","keyCode","needToTop","self","getDerivedStateFromProps","checkProps","changedProps","componentDidUpdate","jQuery","animate","scrollTop","find","currentQuestion","questions","questionsRendered","isShow","display","isCurrent","isRendered","isVisible","isInVisibleRange","a","b","getQuestions","sprintf","$","uniqueId","isArray","isNumber","bind","lodash","el","$wrap","options","JSON","parse","CryptoJS","AES","decrypt","format","CryptoJSAesJson","toString","enc","Utf8","classes","parseOptions","isTrue","editPermalink","replace","time","componentDidMount","markQuestionRendered","doAction","MathJax","Hub","Queue","isShowIndex","isShowHint","QuestionTypes","questionTypes","getEditLink","titleParts","blocks","questionTitleParts","explanation","configBlocks","questionBlocks","getWrapperClass","setRef","getQuestionMark","updateUserQuestionAnswers","useState","useEffect","useSelect","getResponse","debounce","percentage","setPercentage","done","setDone","QuizID","results","submitting","graduation","passingGradeValue","ele","remove","item","querySelectorAll","elCurriculumSections","totalItems","dataset","itemCompleted","elProgress","allItemCompleted","textContent","perCent","percentSet","style","left","updateItemsProgress","elements","easing","_customEasing","e","f","h","g","sqrt","$el","css","height","appendTo","body","step","now","fx","transform","transition","percentResult","Number","isInteger","border","radius","r","circumference","PI","offset","strokeDasharray","strokeDashoffset","questionWrong","questionEmpty","$pc","$sc","$ciw","$qs","pcTop","top","isFixed","on","trigger","addClass","removeClass","getMark","reduce","m","getUserMark","start","end","indexHtml","min","totalTime","durationTime","setSeconds","setTimeSpend","myInterval","setInterval","remainSeconds","clearInterval","formatTime","separator","t","store","chunk","Quiz","settings","setQuizData","question_ids","questions_per_page","chunks","prevProps","prevState","snapshot","elQuizContent","isA","notStarted","checkCount","apiFetch","wpSelect","wpDispatch","_dispatch","slice","call","camelCaseDashObjectKeys","questionId","__requestBeforeStartQuiz","quizId","courseId","userId","__requestStartQuizSuccess","itemId","getDefaultRestArgs","doStart","response","path","method","item_id","course_id","btnStart","keyQuizOff","removeItem","quizDataOff","endTime","setItem","stringify","keyQuizOffRetaken","quizOffRetaken","elButtons","insertAdjacentHTML","__requestSubmitQuiz","__requestSubmitQuizSuccess","getQuestionsSelectedAnswers","doSubmit","keyAnswer","answerDataStr","k","v","entries","elTimeSpend","value","time_spend","quizDataOffStr","answers","__requestShowHintSuccess","__requestCheckAnswerSuccess","question_id","questionOptions","checked_questions","question_options","setTimeout","registerStore","reducer","actions","selectors","applyMiddlewares","controls","dataControls","refx","effects","ENROLL_COURSE_X","action","enrollCourse","enhancedDispatch","Error","middlewareAPI","getState","combineReducers","omit","flow","get","storageGet","set","storageSet","STORE_DATA","setItemStatus","userSettings","updateUserQuestionAnswer","newAnswer","temp","resetCurrentPage","setQuestionHint","newArgs","newAnswered","reviewQuestions","startQuizz","successResponse","messageResponse","userQuiz","getQuestionOptions","console","getQuestion","timeEnd","getItemStatus","getItemById","getProp","prop","defaultValue","getQuizAttempts","getQuizAnswered","ret","theId","s","q","isCheckedAnswer","isCorrect","returnData","loopId","hasOwnProperty","blanks","negativeMarking","totalMark","questionMark","point","isChecked","correct","lpModalOverlay","lpModalOverlayCompleteItem","elBtnFinishCourse","elBtnCompleteItem","init","lpGlobalSettings","option_enable_popup_confirm_finish","addEventListener","form","target","closest","elLPOverlay","setTitleModal","setContentModal","callBackYes","forEach","element","addAction","removeAction","elementorFrontend","Waypoint","refreshAll","dispatchEvent","Event","vc_js","VcWaypoint","vc_round_charts","vc_pieChart","vc_line_charts","addQueryArgs","itemsProgress","eleObserver","IntersectionObserver","observer","entry","isIntersecting","unobserve","observe","wp","post_id","user_id","innerHTML","elMainContent","elTitle","elBtnYes","elBtnNo","elFooter","elCalledModal","instance","hide","stopPropagation","setElCalledModal","modal","Modal","elem","total_time"],"sourceRoot":""}