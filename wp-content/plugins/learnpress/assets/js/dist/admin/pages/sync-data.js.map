{"version":3,"file":"./assets/js/dist/admin/pages/sync-data.js","mappings":"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","sources":["webpack://learnpress/./assets/src/apps/js/admin/pages/sync-data.js"],"sourcesContent":["( function( $ ) {\n\tconst Sync_Base = {\n\t\tid: 'sync-base',\n\t\tsyncing: false,\n\t\titems: false,\n\t\tcompleted: false,\n\t\tcallback: null,\n\t\tmethodGetItems: '',\n\t\titemsKey: '',\n\t\tchunkSize: 50,\n\t\tsync( callback ) {\n\t\t\tif ( this.syncing ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.callback = callback;\n\n\t\t\tif ( this.items === false ) {\n\t\t\t\tthis.get_items();\n\t\t\t} else if ( ! this.dispatch() ) {\n\t\t\t\tthis.completed = true;\n\t\t\t\tthis.callToCallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.syncing = true;\n\t\t},\n\t\tinit() {\n\t\t\tthis.syncing = false;\n\t\t\tthis.items = false;\n\t\t\tthis.completed = false;\n\t\t},\n\t\tis_completed() {\n\t\t\treturn this.completed;\n\t\t},\n\t\tdispatch() {\n\t\t\tconst that = this,\n\t\t\t\titems = this.items ? this.items.splice( 0, this.chunkSize ) : false;\n\t\t\tif ( ! items || items.length === 0 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t$.ajax( {\n\t\t\t\turl: '',\n\t\t\t\tdata: {\n\t\t\t\t\t'lp-ajax': this.id,\n\t\t\t\t\tsync: items,\n\t\t\t\t},\n\t\t\t\tmethod: 'post',\n\t\t\t\tsuccess( response ) {\n\t\t\t\t\tresponse = LP.parseJSON( response );\n\t\t\t\t\tthat.syncing = false;\n\t\t\t\t\tif ( response.result !== 'success' ) {\n\t\t\t\t\t\tthat.completed = true;\n\t\t\t\t\t}\n\t\t\t\t\tthat.callToCallback();\n\t\t\t\t\tif ( that.is_completed() ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.sync( that.callback );\n\t\t\t\t},\n\t\t\t} );\n\n\t\t\treturn true;\n\t\t},\n\t\tcallToCallback() {\n\t\t\tthis.callback && this.callback.call( this );\n\t\t},\n\t\tget_items() {\n\t\t\tconst that = this;\n\t\t\t$.ajax( {\n\t\t\t\turl: '',\n\t\t\t\tdata: {\n\t\t\t\t\t'lp-ajax': this.id,\n\t\t\t\t\tsync: this.methodGetItems,\n\t\t\t\t},\n\t\t\t\tsuccess( response ) {\n\t\t\t\t\tthat.syncing = false;\n\t\t\t\t\tresponse = LP.parseJSON( response );\n\t\t\t\t\tif ( response[ that.itemsKey ] ) {\n\t\t\t\t\t\tthat.items = response[ that.itemsKey ];\n\t\t\t\t\t\tthat.sync( that.callback );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.completed = true;\n\t\t\t\t\t\tthat.items = [];\n\t\t\t\t\t\tthat.callToCallback();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t} );\n\t\t},\n\t};\n\n\tconst Sync_Course_Orders = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-course-orders',\n\t\tmethodGetItems: 'get-courses',\n\t\titemsKey: 'courses',\n\t} );\n\n\tconst Sync_User_Courses = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-user-courses',\n\t\tmethodGetItems: 'get-users',\n\t\titemsKey: 'users',\n\t\tchunkSize: 500,\n\t} );\n\n\tconst Sync_User_Orders = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-user-orders',\n\t\tmethodGetItems: 'get-users',\n\t\titemsKey: 'users',\n\t\tchunkSize: 500,\n\t} );\n\n\tconst Sync_Course_Final_Quiz = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-course-final-quiz',\n\t\tmethodGetItems: 'get-courses',\n\t\titemsKey: 'courses',\n\t\tchunkSize: 500,\n\t} );\n\n\tconst Sync_Remove_Older_Data = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-remove-older-data',\n\t\tmethodGetItems: 'remove-older-data',\n\t\titemsKey: '_nothing_here',\n\t\tchunkSize: 500,\n\t} );\n\n\tconst Sync_Calculate_Course_Results = $.extend( {}, Sync_Base, {\n\t\tid: 'sync-calculate-course-results',\n\t\tmethodGetItems: 'get-users',\n\t\titemsKey: 'users',\n\t\tchunkSize: 1,\n\t} );\n\n\twindow.LP_Sync_Data = {\n\t\tsyncs: [],\n\t\tsyncing: 0,\n\t\toptions: {},\n\t\tstart( options ) {\n\t\t\tthis.syncs = [];\n\t\t\tthis.options = $.extend( {\n\t\t\t\tonInit() {\n\t\t\t\t},\n\t\t\t\tonStart() {\n\n\t\t\t\t},\n\t\t\t\tonCompleted() {\n\n\t\t\t\t},\n\t\t\t\tonCompletedAll() {\n\n\t\t\t\t},\n\t\t\t}, options || {} );\n\n\t\t\tif ( ! this.get_syncs() ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.reset();\n\t\t\tthis.options.onInit.call( this );\n\t\t\tvar that = this,\n\t\t\t\tsyncing = 0,\n\t\t\t\ttotalSyncs = this.syncs.length,\n\t\t\t\tsyncCallback = function( $sync ) {\n\t\t\t\t\tif ( $sync.is_completed() ) {\n\t\t\t\t\t\tsyncing++;\n\t\t\t\t\t\tthat.options.onCompleted.call( that, $sync );\n\t\t\t\t\t\tif ( syncing >= totalSyncs ) {\n\t\t\t\t\t\t\tthat.options.onCompletedAll.call( that );\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.sync( syncing, syncCallback );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\tthis.sync( syncing, syncCallback );\n\t\t},\n\t\treset() {\n\t\t\tfor ( const sync in this.syncs ) {\n\t\t\t\ttry {\n\t\t\t\t\tthis[ this.syncs[ sync ] ].init();\n\t\t\t\t} catch ( e ) {\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsync( sync, callback ) {\n\t\t\tconst that = this,\n\t\t\t\t$sync = this[ this.syncs[ sync ] ];\n\t\t\tthat.options.onStart.call( that, $sync );\n\t\t\t$sync.sync( function() {\n\t\t\t\tcallback.call( that, $sync );\n\t\t\t} );\n\t\t},\n\t\tget_syncs() {\n\t\t\tconst syncs = $( 'input[name^=\"lp-repair\"]:checked' ).serializeJSON()[ 'lp-repair' ];\n\t\t\tif ( ! syncs ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor ( let sync in syncs ) {\n\t\t\t\tif ( syncs[ sync ] !== 'yes' ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tsync = sync.replace( /[-]+/g, '_' );\n\n\t\t\t\tif ( ! this[ sync ] ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis.syncs.push( sync );\n\t\t\t}\n\n\t\t\treturn this.syncs;\n\t\t},\n\t\tget_sync( id ) {\n\t\t\tid = id.replace( /[-]+/g, '_' );\n\t\t\treturn this[ id ];\n\t\t},\n\t\tsync_course_orders: Sync_Course_Orders,\n\t\tsync_user_orders: Sync_User_Orders,\n\t\tsync_user_courses: Sync_User_Courses,\n\t\tsync_course_final_quiz: Sync_Course_Final_Quiz,\n\t\tsync_remove_older_data: Sync_Remove_Older_Data,\n\t\tsync_calculate_course_results: Sync_Calculate_Course_Results,\n\t};\n\n\t$( document ).ready( function() {\n\t\tfunction initSyncs() {\n\t\t\tconst $chkAll = $( '#learn-press-check-all-syncs' ),\n\t\t\t\t$chks = $( '#learn-press-syncs' ).find( '[name^=\"lp-repair\"]' );\n\n\t\t\t$chkAll.on( 'click', function() {\n\t\t\t\t$chks.prop( 'checked', this.checked );\n\t\t\t} );\n\n\t\t\t$chks.on( 'click', function() {\n\t\t\t\t$chkAll.prop( 'checked', $chks.filter( ':checked' ).length === $chks.length );\n\t\t\t} );\n\t\t}\n\n\t\tinitSyncs();\n\t} ).on( 'click', '.lp-button-repair', function() {\n\t\tfunction getInput( sync ) {\n\t\t\treturn $( 'ul#learn-press-syncs' ).find( 'input[name*=\"' + sync + '\"]' );\n\t\t}\n\n\t\tLP_Sync_Data.start( {\n\t\t\tonInit() {\n\t\t\t\t$( 'ul#learn-press-syncs' ).children().removeClass( 'syncing synced' );\n\t\t\t\t$( '.lp-button-repair' ).prop( 'disabled', true );\n\t\t\t},\n\t\t\tonStart( $sync ) {\n\t\t\t\tgetInput( $sync.id ).closest( 'li' ).addClass( 'syncing' );\n\t\t\t},\n\t\t\tonCompleted( $sync ) {\n\t\t\t\tgetInput( $sync.id ).closest( 'li' ).removeClass( 'syncing' ).addClass( 'synced' );\n\t\t\t},\n\t\t\tonCompletedAll() {\n\t\t\t\t$( 'ul#learn-press-syncs' ).children().removeClass( 'syncing synced' );\n\t\t\t\t$( '.lp-button-repair' ).prop( 'disabled', false );\n\t\t\t},\n\t\t} );\n\t} );\n}( jQuery ) );\n"],"names":["$","Sync_Base","id","syncing","items","completed","callback","methodGetItems","itemsKey","chunkSize","sync","get_items","dispatch","callToCallback","init","is_completed","that","splice","length","ajax","url","data","method","success","response","LP","parseJSON","result","call","Sync_Course_Orders","extend","Sync_User_Courses","Sync_User_Orders","Sync_Course_Final_Quiz","Sync_Remove_Older_Data","Sync_Calculate_Course_Results","window","LP_Sync_Data","syncs","options","start","onInit","onStart","onCompleted","onCompletedAll","get_syncs","reset","totalSyncs","syncCallback","$sync","e","serializeJSON","replace","push","get_sync","sync_course_orders","sync_user_orders","sync_user_courses","sync_course_final_quiz","sync_remove_older_data","sync_calculate_course_results","document","ready","initSyncs","$chkAll","$chks","find","on","prop","checked","filter","getInput","children","removeClass","closest","addClass","jQuery"],"sourceRoot":""}