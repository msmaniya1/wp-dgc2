{"version":3,"file":"./assets/js/dist/admin/pages/tools.js","mappings":"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","sources":["webpack://learnpress/./assets/src/apps/js/admin/pages/tools/database/clean_database.js","webpack://learnpress/./assets/src/apps/js/admin/pages/tools/database/create_indexs.js","webpack://learnpress/./assets/src/apps/js/admin/pages/tools/database/re-upgrade-db.js","webpack://learnpress/./assets/src/apps/js/admin/pages/tools/database/upgrade.js","webpack://learnpress/./assets/src/apps/js/admin/pages/tools/reset-data/course.js","webpack://learnpress/./assets/src/apps/js/admin/pages/tools/reset-data/index.js","webpack://learnpress/./assets/src/apps/js/utils/handle-ajax-api.js","webpack://learnpress/./assets/src/apps/js/utils/lp-modal-overlay.js","webpack://learnpress/external window [\"wp\",\"element\"]","webpack://learnpress/webpack/bootstrap","webpack://learnpress/webpack/runtime/compat get default export","webpack://learnpress/webpack/runtime/define property getters","webpack://learnpress/webpack/runtime/hasOwnProperty shorthand","webpack://learnpress/webpack/runtime/make namespace object","webpack://learnpress/./assets/src/apps/js/admin/pages/tools.js"],"sourcesContent":["import lpModalOverlay from '../../../../utils/lp-modal-overlay';\nimport handleAjax from '../../../../utils/handle-ajax-api';\n\nconst cleanDatabases = () => {\n\tconst elCleanDatabases = document.querySelector( '#lp-tool-clean-database' );\n\n\tif ( ! elCleanDatabases ) {\n\t\treturn;\n\t}\n\n\tconst elBtnCleanDatabases = elCleanDatabases.querySelector( '.lp-btn-clean-db' );\n\telBtnCleanDatabases.addEventListener( 'click', function( e ) {\n\t\te.preventDefault();\n\t\tconst elToolsSelect = document.querySelector( '#tools-select__id' );\n\t\tconst ElToolSelectLi = elToolsSelect.querySelectorAll( 'ul li input' );\n\t\tconst checkedOne = Array.prototype.slice.call( ElToolSelectLi ).some( ( x ) => x.checked );\n\t\tconst prepareMessage = elCleanDatabases.querySelector( '.tools-prepare__message' );\n\t\tif ( checkedOne == false ) {\n\t\t\tprepareMessage.style.display = 'block';\n\t\t\tprepareMessage.textContent = 'You must choose at least one table to take this action';\n\t\t\treturn;\n\t\t}\n\t\tprepareMessage.style.display = 'none';\n\n\t\tconst elLoading = elCleanDatabases.querySelector( '.wrapper-lp-loading' );\n\t\tif ( ! lpModalOverlay.init() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlpModalOverlay.elLPOverlay.show();\n\t\tlpModalOverlay.setContentModal( elLoading.innerHTML );\n\t\tlpModalOverlay.setTitleModal( elCleanDatabases.querySelector( 'h2' ).textContent );\n\t\tlpModalOverlay.elBtnYes[ 0 ].style.display = 'inline-block';\n\t\tlpModalOverlay.elBtnYes[ 0 ].textContent = 'Run';\n\t\tlpModalOverlay.elBtnNo[ 0 ].textContent = 'Close';\n\t\tconst listTables = new Array();\n\t\tconst ElToolSelectLiCheked = elToolsSelect.querySelectorAll( 'ul li input:checked' );\n\t\tElToolSelectLiCheked.forEach( ( e ) => {\n\t\t\tlistTables.push( e.value );\n\t\t} );\n\t\tconst tables = listTables[ 0 ];\n\t\tconst item = elLoading.querySelector( '.progressbar__item' );\n\n\t\tconst itemtotal = item.getAttribute( 'data-total' );\n\t\tconst modal = document.querySelector( '.lp-modal-body .main-content' );\n\t\tconst notice = modal.querySelector( '.lp-tool__message' );\n\t\tif ( itemtotal <= 0 ) {\n\t\t\tlpModalOverlay.elBtnYes[ 0 ].style.display = 'none';\n\t\t\tnotice.textContent = ( 'There is no data that need to be repaired in the chosen tables' );\n\t\t\tnotice.style.display = 'block';\n\t\t\treturn;\n\t\t}\n\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t// warn user before doing\n\t\t\tconst r = confirm( 'The modified data is impossible to be restored. Please backup your website before doing this.' );\n\t\t\tif ( r == false ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst modal = document.querySelector( '.lp-modal-body .main-content' );\n\t\t\tconst notice = modal.querySelector( '.lp-tool__message' );\n\t\t\tnotice.textContent = 'This action is in processing. Don\\'t close this page';\n\t\t\tnotice.style.display = 'block';\n\t\t\tconst url = '/lp/v1/admin/tools/clean-tables';\n\t\t\tconst params = { tables, itemtotal };\n\n\t\t\tlpModalOverlay.elBtnNo[ 0 ].style.display = 'none';\n\t\t\tlpModalOverlay.elBtnYes[ 0 ].style.display = 'none';\n\n\t\t\tconst functions = {\n\t\t\t\tsuccess: ( res ) => {\n\t\t\t\t\tconst { status, message, data: { processed, percent } } = res;\n\t\t\t\t\tconst modalItem = modal.querySelector( '.progressbar__item' );\n\t\t\t\t\tconst progressBarRows = modalItem.querySelector( '.progressbar__rows' );\n\t\t\t\t\tconst progressPercent = modalItem.querySelector( '.progressbar__percent' );\n\t\t\t\t\tconst progressValue = modalItem.querySelector( '.progressbar__value' );\n\n\t\t\t\t\tconsole.log( status );\n\t\t\t\t\tif ( 'success' === status ) {\n\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\thandleAjax( url, params, functions );\n\t\t\t\t\t\t}, 2000 );\n\t\t\t\t\t\t// update processed quantity\n\t\t\t\t\t\tprogressBarRows.textContent = processed + ' / ' + itemtotal;\n\t\t\t\t\t\t// update percent\n\t\t\t\t\t\tprogressPercent.textContent = '( ' + percent + '%' + ' )';\n\t\t\t\t\t\t// update percent width\n\t\t\t\t\t\tprogressValue.style.width = percent + '%';\n\t\t\t\t\t} else if ( 'finished' === status ) {\n\t\t\t\t\t\t// Re-update indexs\n\t\t\t\t\t\tprogressBarRows.textContent = itemtotal + ' / ' + itemtotal;\n\t\t\t\t\t\tprogressPercent.textContent = '( 100% )';\n\t\t\t\t\t\t// Update complete nofication\n\t\t\t\t\t\tconst modal = document.querySelector( '.lp-modal-body .main-content' );\n\t\t\t\t\t\tconst notice = modal.querySelector( '.lp-tool__message' );\n\t\t\t\t\t\tnotice.textContent = 'Process has been completed. Press click the finish button to close this popup';\n\t\t\t\t\t\tnotice.style.color = 'white';\n\t\t\t\t\t\tnotice.style.background = 'green';\n\t\t\t\t\t\tprogressValue.style.width = '100%';\n\t\t\t\t\t\t// Show finish button\n\t\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].style.display = 'inline-block';\n\t\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].textContent = 'Finish';\n\t\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].addEventListener( 'click', function() {\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log( message );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\terror: ( err ) => {\n\t\t\t\t\tconsole.log( err );\n\t\t\t\t},\n\t\t\t\tcompleted: () => {\n\n\t\t\t\t},\n\t\t\t};\n\t\t\thandleAjax( url, params, functions );\n\t\t};\n\t} );\n};\nexport default cleanDatabases;\n","import lpModalOverlay from '../../../../utils/lp-modal-overlay';\nimport handleAjax from '../../../../utils/handle-ajax-api';\n\nconst createIndexes = () => {\n\tconst elCreateIndexTables = document.querySelector( '#lp-tool-create-indexes-tables' );\n\n\tif ( ! elCreateIndexTables ) {\n\t\treturn;\n\t}\n\n\tconst elBtnCreateIndexes = elCreateIndexTables.querySelector( '.lp-btn-create-indexes' );\n\n\telBtnCreateIndexes.addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\t\tconst elLoading = elCreateIndexTables.querySelector( '.wrapper-lp-loading' );\n\n\t\tif ( ! lpModalOverlay.init() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlpModalOverlay.elLPOverlay.show();\n\t\tlpModalOverlay.setContentModal( elLoading.innerHTML );\n\t\tlpModalOverlay.setTitleModal( elCreateIndexTables.querySelector( 'h2' ).textContent );\n\t\tlpModalOverlay.elBtnYes[ 0 ].style.display = 'inline-block';\n\t\tlpModalOverlay.elBtnYes[ 0 ].textContent = 'Run';\n\t\tlpModalOverlay.elBtnNo[ 0 ].textContent = 'Close';\n\n\t\tconst url = '/lp/v1/admin/tools/list-tables-indexs';\n\t\tconst params = {};\n\t\tconst functions = {\n\t\t\tsuccess: ( res ) => {\n\t\t\t\tconst { status, message, data: { tables, table } } = res;\n\t\t\t\tconst elSteps = document.querySelector( '.example-lp-group-step' );\n\n\t\t\t\tlpModalOverlay.setContentModal( elSteps.innerHTML );\n\n\t\t\t\tconst elGroupStep = lpModalOverlay.elLPOverlay[ 0 ].querySelector( '.lp-group-step ' );\n\n\t\t\t\t// Show progress when upgrading.\n\t\t\t\tconst showProgress = ( stepCurrent, percent ) => {\n\t\t\t\t\tconst elItemStepCurrent = elGroupStep.querySelector( 'input[value=' + stepCurrent + ']' ).closest( '.lp-item-step' );\n\t\t\t\t\telItemStepCurrent.classList.add( 'running' );\n\n\t\t\t\t\tif ( 100 === percent ) {\n\t\t\t\t\t\telItemStepCurrent.classList.remove( 'running' );\n\t\t\t\t\t\telItemStepCurrent.classList.add( 'completed' );\n\t\t\t\t\t}\n\n\t\t\t\t\tconst progressBar = elItemStepCurrent.querySelector( '.progress-bar' );\n\t\t\t\t\tprogressBar.style.width = percent;\n\t\t\t\t};\n\n\t\t\t\t// Scroll to step current.\n\t\t\t\tconst scrollToStepCurrent = ( stepCurrent ) => {\n\t\t\t\t\tconst elItemStepCurrent = elGroupStep.querySelector( 'input[value=' + stepCurrent + ']' ).closest( '.lp-item-step' );\n\n\t\t\t\t\tconst offset = elItemStepCurrent.offsetTop - lpModalOverlay.elMainContent[ 0 ].offsetTop +\n\t\t\t\t\t\tlpModalOverlay.elMainContent[ 0 ].scrollTop;\n\n\t\t\t\t\tlpModalOverlay.elMainContent.stop().animate( {\n\t\t\t\t\t\tscrollTop: offset,\n\t\t\t\t\t}, 600 );\n\t\t\t\t};\n\n\t\t\t\tfor ( const table in tables ) {\n\t\t\t\t\tconst elItemStep = lpModalOverlay.elLPOverlay[ 0 ].querySelector( '.lp-item-step' ).cloneNode( true );\n\t\t\t\t\tconst input = elItemStep.querySelector( 'input' );\n\t\t\t\t\tconst label = elItemStep.querySelector( 'label' );\n\n\t\t\t\t\tlabel.textContent = `Table: ${ table }`;\n\t\t\t\t\tinput.value = table;\n\n\t\t\t\t\telGroupStep.append( elItemStep );\n\t\t\t\t}\n\n\t\t\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t\t\tconst url = '/lp/v1/admin/tools/create-indexs';\n\t\t\t\t\tconst params = { tables, table };\n\n\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].style.display = 'none';\n\t\t\t\t\tlpModalOverlay.elBtnYes[ 0 ].style.display = 'none';\n\n\t\t\t\t\tshowProgress( table, 0.1 );\n\n\t\t\t\t\tconst functions = {\n\t\t\t\t\t\tsuccess: ( res ) => {\n\t\t\t\t\t\t\tconst { status, message, data: { table, percent } } = res;\n\n\t\t\t\t\t\t\tshowProgress( params.table, percent );\n\n\t\t\t\t\t\t\tif ( undefined !== table ) {\n\t\t\t\t\t\t\t\tif ( params.table !== table ) {\n\t\t\t\t\t\t\t\t\tshowProgress( table, 0.1 );\n\t\t\t\t\t\t\t\t\tscrollToStepCurrent( table );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tparams.table = table;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( 'success' === status ) {\n\t\t\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\t\t\thandleAjax( url, params, functions );\n\t\t\t\t\t\t\t\t}, 2000 );\n\t\t\t\t\t\t\t} else if ( 'finished' === status ) {\n\t\t\t\t\t\t\t\tconsole.log( 'finished' );\n\t\t\t\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].style.display = 'inline-block';\n\t\t\t\t\t\t\t\tlpModalOverlay.elBtnNo[ 0 ].textContent = 'Finish';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log( message );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: ( err ) => {\n\t\t\t\t\t\t\tconsole.log( err );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcompleted: () => {\n\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\thandleAjax( url, params, functions );\n\t\t\t\t};\n\t\t\t},\n\t\t\terror: ( err ) => {\n\n\t\t\t},\n\t\t\tcompleted: () => {\n\n\t\t\t},\n\t\t};\n\n\t\thandleAjax( url, params, functions );\n\t} );\n};\n\nexport default createIndexes;\n","import lpModalOverlay from '../../../../utils/lp-modal-overlay';\nimport handleAjax from '../../../../utils/handle-ajax-api';\n\nconst reUpgradeDB = () => {\n\tconst elToolReUpgradeDB = document.querySelector( '#lp-tool-re-upgrade-db' );\n\n\tif ( ! elToolReUpgradeDB ) {\n\t\treturn;\n\t}\n\n\t// Check valid to show popup re-upgrade\n\tlet url = 'lp/v1/database/check-db-valid-re-upgrade';\n\thandleAjax( url, {}, {\n\t\tsuccess( res ) {\n\t\t\tconst { data: { can_re_upgrade } } = res;\n\n\t\t\tif ( ! can_re_upgrade ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\telToolReUpgradeDB.style.display = 'block';\n\n\t\t\tconst elBtnReUpradeDB = elToolReUpgradeDB.querySelector( '.lp-btn-re-upgrade-db' );\n\t\t\tconst elMessage = elToolReUpgradeDB.querySelector( '.learn-press-message' );\n\n\t\t\telBtnReUpradeDB.addEventListener( 'click', () => {\n\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\tif ( confirm( 'Are you want to Re Upgrade!' ) ) {\n\t\t\t\t\turl = 'lp/v1/database/del-tb-lp-upgrade-db';\n\t\t\t\t\thandleAjax( url, {}, {\n\t\t\t\t\t\tsuccess( res ) {\n\t\t\t\t\t\t\tconst { status, message, data: { url } } = res;\n\n\t\t\t\t\t\t\tif ( 'success' === status && undefined !== url ) {\n\t\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror( err ) {\n\t\t\t\t\t\t\telMessage.classList.add( 'error' );\n\t\t\t\t\t\t\telMessage.textContent = err.message;\n\t\t\t\t\t\t\telMessage.style.display = 'block';\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\t\terror( err ) {\n\n\t\t},\n\t} );\n};\n\nexport default reUpgradeDB;\n","import lpModalOverlay from '../../../../utils/lp-modal-overlay';\nimport handleAjax from '../../../../utils/handle-ajax-api';\n\nconst $ = jQuery;\n\nconst elToolUpgradeDB = $( '#lp-tool-upgrade-db' );\n\nconst upgradeDB = () => {\n\tlet isUpgrading = 0;\n\tconst elWrapperTermsUpgrade = elToolUpgradeDB.find( '.wrapper-terms-upgrade' );\n\tconst elStatusUpgrade = elToolUpgradeDB.find( '.wrapper-lp-status-upgrade' );\n\tconst elWrapperUpgradeMessage = elToolUpgradeDB.find( '.wrapper-lp-upgrade-message' );\n\tlet checkValidBeforeUpgrade = null;\n\n\tif ( elWrapperTermsUpgrade.length ) { // Show Terms Upgrade.\n\t\tlpModalOverlay.setContentModal( elWrapperTermsUpgrade.html() );\n\n\t\tconst elTermUpdate = lpModalOverlay.elLPOverlay.find( '.terms-upgrade' );\n\t\tconst elLPAgreeTerm = elTermUpdate.find( 'input[name=lp-agree-term]' );\n\t\tconst elTermMessage = elTermUpdate.find( '.error' );\n\t\tconst elMessageUpgrading = $( 'input[name=message-when-upgrading]' ).val();\n\n\t\tcheckValidBeforeUpgrade = function() {\n\t\t\telTermMessage.hide();\n\t\t\telTermMessage.removeClass( 'learn-press-message' );\n\n\t\t\tif ( elLPAgreeTerm.is( ':checked' ) ) {\n\t\t\t\thandleAjax( '/lp/v1/database/agree_terms', { agree_terms: 1 }, {} );\n\n\t\t\t\tlpModalOverlay.elFooter.find( '.learn-press-notice' ).remove();\n\t\t\t\tlpModalOverlay.elFooter.prepend( '<span class=\"learn-press-notice\">' + elMessageUpgrading + '</span>' );\n\t\t\t\tlpModalOverlay.setContentModal( elStatusUpgrade.html() );\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\telTermMessage.show();\n\t\t\telTermMessage.addClass( 'learn-press-message' );\n\t\t\tlpModalOverlay.elMainContent.animate( {\n\t\t\t\tscrollTop: elTermMessage.offset().top,\n\t\t\t} );\n\n\t\t\treturn false;\n\t\t};\n\t} else { // Show Steps Upgrade.\n\t\tlpModalOverlay.setContentModal( elStatusUpgrade.html() );\n\t\tcheckValidBeforeUpgrade = function() {\n\t\t\treturn true;\n\t\t};\n\t}\n\n\tlpModalOverlay.setTitleModal( elToolUpgradeDB.find( 'h2' ).html() );\n\tlpModalOverlay.elBtnYes.text( 'Upgrade' );\n\tlpModalOverlay.elBtnYes.show();\n\tlpModalOverlay.elBtnNo.text( 'close' );\n\tlpModalOverlay.callBackYes = function() {\n\t\tif ( ! checkValidBeforeUpgrade() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUpgrading = 1;\n\n\t\tlpModalOverlay.elBtnYes.hide();\n\t\tlpModalOverlay.elBtnNo.hide();\n\n\t\tconst urlHandle = '/lp/v1/database/upgrade';\n\t\tconst elGroupStep = lpModalOverlay.elLPOverlay.find( '.lp-group-step' );\n\t\tconst elItemSteps = elToolUpgradeDB.find( '.lp-item-step' );\n\n\t\t// Get params.\n\t\tconst steps = [];\n\n\t\t$.each( elItemSteps, function( i, el ) {\n\t\t\tconst elItemStepsTmp = $( el );\n\n\t\t\tif ( ! elItemStepsTmp.hasClass( 'completed' ) ) {\n\t\t\t\tconst step = elItemStepsTmp.find( 'input' ).val();\n\t\t\t\tsteps.push( step );\n\t\t\t}\n\t\t} );\n\n\t\tconst params = {\n\t\t\tsteps,\n\t\t\tstep: steps[ 0 ],\n\t\t};\n\n\t\tlet elItemStepCurrent = null;\n\n\t\t// Show progress when upgrading.\n\t\tconst showProgress = ( stepCurrent, percent ) => {\n\t\t\telItemStepCurrent = elGroupStep.find( 'input[value=' + stepCurrent + ']' ).closest( '.lp-item-step' );\n\t\t\telItemStepCurrent.addClass( 'running' );\n\n\t\t\tif ( 100 === percent ) {\n\t\t\t\telItemStepCurrent.removeClass( 'running' ).addClass( 'completed' );\n\t\t\t}\n\n\t\t\telItemStepCurrent.find( '.progress-bar' ).css( 'width', percent + '%' );\n\t\t\telItemStepCurrent.find( '.percent' ).text( percent + '%' );\n\t\t};\n\n\t\t// Scroll to step current.\n\t\tconst scrollToStepCurrent = ( stepCurrent ) => {\n\t\t\telItemStepCurrent = elGroupStep.find( 'input[value=' + stepCurrent + ']' ).closest( '.lp-item-step' );\n\n\t\t\tif ( ! elItemStepCurrent.length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst offset = elItemStepCurrent.offset().top - lpModalOverlay.elMainContent.offset().top +\n\t\t\t\tlpModalOverlay.elMainContent.scrollTop();\n\n\t\t\tlpModalOverlay.elMainContent.stop().animate( {\n\t\t\t\tscrollTop: offset,\n\t\t\t}, 600 );\n\t\t};\n\n\t\tshowProgress( steps[ 0 ], 0.1 );\n\n\t\tconst funcCallBack = {\n\t\t\tsuccess: ( res ) => {\n\t\t\t\tshowProgress( params.step, res.percent );\n\n\t\t\t\tif ( params.step !== res.name ) {\n\t\t\t\t\tshowProgress( res.name, 0.1 );\n\t\t\t\t}\n\n\t\t\t\tscrollToStepCurrent( params.step );\n\n\t\t\t\tif ( 'success' === res.status ) {\n\t\t\t\t\tparams.step = res.name;\n\t\t\t\t\tparams.data = res.data;\n\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\thandleAjax( urlHandle, params, funcCallBack );\n\t\t\t\t\t}, 800 );\n\t\t\t\t} else if ( 'finished' === res.status ) {\n\t\t\t\t\tisUpgrading = 0;\n\t\t\t\t\telItemStepCurrent.removeClass( 'running' ).addClass( 'completed' );\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tlpModalOverlay.setContentModal( elWrapperUpgradeMessage.html() );\n\t\t\t\t\t}, 1000 );\n\t\t\t\t\tlpModalOverlay.elFooter.find( '.learn-press-notice' ).remove();\n\t\t\t\t\tlpModalOverlay.elBtnNo.show();\n\t\t\t\t\tlpModalOverlay.elBtnNo.on( 'click', () => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tisUpgrading = 0;\n\t\t\t\t\tlpModalOverlay.elFooter.find( '.learn-press-notice' ).remove();\n\t\t\t\t\telItemStepCurrent.removeClass( 'running' ).addClass( 'error' );\n\t\t\t\t\tlpModalOverlay.setContentModal( elWrapperUpgradeMessage.html(), function() {\n\t\t\t\t\t\tlpModalOverlay.elBtnYes.text( 'Retry' ).show();\n\t\t\t\t\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t\t\t\t\twindow.location.href = lpGlobalSettings.siteurl + '/wp-admin/admin.php?page=learn-press-tools&tab=database&action=upgrade-db';\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlpModalOverlay.elBtnNo.show();\n\n\t\t\t\t\t\tif ( ! res.message ) {\n\t\t\t\t\t\t\tres.message = 'Upgrade not success! Please clear cache, restart sever then retry or contact to LP to help';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlpModalOverlay.elMainContent.find( '.learn-press-message' ).addClass( 'error' ).html( res.message );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: ( err ) => {\n\t\t\t\tisUpgrading = 0;\n\t\t\t\tlpModalOverlay.setContentModal( elWrapperUpgradeMessage.html(), function() {\n\t\t\t\t\tlpModalOverlay.elBtnYes.text( 'Retry' ).show();\n\t\t\t\t\tlpModalOverlay.callBackYes = () => {\n\t\t\t\t\t\twindow.location.location = 'wp-admin/admin.php?page=learn-press-tools&tab=database&action=upgrade-db';\n\t\t\t\t\t};\n\t\t\t\t\tlpModalOverlay.elBtnNo.show();\n\n\t\t\t\t\tif ( ! err.message ) {\n\t\t\t\t\t\terr.message = 'Upgrade not success! Something wrong. Please clear cache, restart sever then retry or contact to LP to help';\n\t\t\t\t\t}\n\n\t\t\t\t\tlpModalOverlay.elMainContent.find( '.learn-press-message' ).addClass( 'error' ).html( err.message );\n\t\t\t\t} );\n\t\t\t},\n\t\t\tcompleted: () => {\n\n\t\t\t},\n\t\t};\n\n\t\thandleAjax( urlHandle, params, funcCallBack );\n\t};\n\n\t// Show confirm if, within upgrading, the user reload the page.\n\twindow.onbeforeunload = function() {\n\t\tif ( isUpgrading ) {\n\t\t\treturn 'LP is upgrading Database. Are you want to reload page?';\n\t\t}\n\t};\n\n\t// Show confirm if, within upgrading, the user close the page.\n\twindow.onclose = function() {\n\t\tif ( isUpgrading ) {\n\t\t\treturn 'LP is upgrading Database. Are you want to close page?';\n\t\t}\n\t};\n};\n\nconst getStepsUpgradeStatus = () => {\n\tif ( ! elToolUpgradeDB.length ) {\n\t\treturn;\n\t}\n\n\t// initial LP Modal Overlay\n\tif ( ! lpModalOverlay.init() ) {\n\t\treturn;\n\t}\n\n\tconst elWrapperStatusUpgrade = $( '.wrapper-lp-status-upgrade' );\n\tconst urlHandle = '/lp/v1/database/get_steps';\n\n\t// Show dialog upgrade database.\n\tconst queryString = window.location.search;\n\tconst urlParams = new URLSearchParams( queryString );\n\tconst action = urlParams.get( 'action' );\n\n\tif ( 'upgrade-db' === action ) {\n\t\tlpModalOverlay.elLPOverlay.show();\n\t\tlpModalOverlay.setTitleModal( elToolUpgradeDB.find( 'h2' ).html() );\n\t\tlpModalOverlay.setContentModal( $( '.wrapper-lp-loading' ).html() );\n\t}\n\n\tconst funcCallBack = {\n\t\tsuccess: ( res ) => {\n\t\t\tconst { steps_completed, steps_default } = res;\n\n\t\t\tif ( undefined === steps_completed || undefined === steps_default ) {\n\t\t\t\tconsole.log( 'invalid steps_completed and steps_default' );\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Render show Steps.\n\t\t\tlet htmlStep = '';\n\t\t\tfor ( const k_gr_steps in steps_default ) {\n\t\t\t\tconst step_group = steps_default[ k_gr_steps ];\n\t\t\t\tconst steps = step_group.steps;\n\n\t\t\t\thtmlStep = '<div class=\"lp-group-step\">';\n\t\t\t\thtmlStep += '<h3>' + step_group.label + '</h3>';\n\n\t\t\t\tfor ( const k_step in steps ) {\n\t\t\t\t\tconst step = steps[ k_step ];\n\t\t\t\t\tlet completed = '';\n\n\t\t\t\t\tif ( undefined !== steps_completed[ k_step ] ) {\n\t\t\t\t\t\tcompleted = 'completed';\n\t\t\t\t\t}\n\n\t\t\t\t\thtmlStep += '<div class=\"lp-item-step ' + completed + '\">';\n\t\t\t\t\thtmlStep += '<div class=\"lp-item-step-left\"><input type=\"hidden\" name=\"lp_steps_upgrade_db[]\" value=\"' + step.name + '\"  /></div>';\n\t\t\t\t\thtmlStep += '<div class=\"lp-item-step-right\">';\n\t\t\t\t\thtmlStep += '<label for=\"\"><strong></strong>' + step.label + '</label>';\n\t\t\t\t\thtmlStep += '<div class=\"description\">' + step.description + '</div>';\n\t\t\t\t\thtmlStep += '<div class=\"percent\"></div>';\n\t\t\t\t\thtmlStep += '<span class=\"progress-bar\"></span>';\n\t\t\t\t\thtmlStep += '</div>';\n\t\t\t\t\thtmlStep += '</div>';\n\t\t\t\t}\n\n\t\t\t\thtmlStep += '</div>';\n\n\t\t\t\telWrapperStatusUpgrade.append( htmlStep );\n\n\t\t\t\tconst elBtnUpgradeDB = $( '.lp-btn-upgrade-db' );\n\n\t\t\t\tif ( 'upgrade-db' === action ) {\n\t\t\t\t\tupgradeDB();\n\t\t\t\t}\n\n\t\t\t\telBtnUpgradeDB.on( 'click', function() {\n\t\t\t\t\tlpModalOverlay.elLPOverlay.show();\n\t\t\t\t\tupgradeDB();\n\t\t\t\t} );\n\t\t\t}\n\t\t},\n\t\terror: ( err ) => {\n\n\t\t},\n\t\tcompleted: () => {\n\n\t\t},\n\t};\n\n\thandleAjax( urlHandle, {}, funcCallBack );\n};\n\nexport default getStepsUpgradeStatus;\n","/**\n * Reset course progress.\n *\n * @since 4.0.5.\n * @author Nhamdv - Code choi choi in Physcode.\n */\nconst { __ } = wp.i18n;\nconst { TextControl, Button, Spinner, CheckboxControl, Notice } = wp.components;\nconst { useState, useEffect } = wp.element;\nconst { addQueryArgs } = wp.url;\n\nconst ResetCourse = () => {\n\tconst [ loading, setLoading ] = useState( false );\n\tconst [ search, setSearch ] = useState( '' );\n\tconst [ data, setData ] = useState( [] );\n\tconst [ checkData, setCheckData ] = useState( [] );\n\tconst [ message, setMessage ] = useState( [] );\n\tconst [ loadingReset, setLoadingReset ] = useState( false );\n\n\tuseEffect( () => {\n\t\tresponsiveData( search );\n\t}, [ search ] );\n\n\tconst responsiveData = async ( s ) => {\n\t\ttry {\n\t\t\tif ( ! s || loading ) {\n\t\t\t\tsetMessage( [] );\n\t\t\t\tsetData( [] );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( s.length < 3 ) {\n\t\t\t\tsetMessage( [ { status: 'error', message: 'Please enter at least 3 characters to searching course.' } ] );\n\t\t\t\tsetData( [] );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetLoading( true );\n\n\t\t\tconst response = await wp.apiFetch( {\n\t\t\t\tpath: addQueryArgs( 'lp/v1/admin/tools/reset-data/search-courses', {\n\t\t\t\t\ts,\n\t\t\t\t} ),\n\t\t\t\tmethod: 'GET',\n\t\t\t} );\n\n\t\t\tconst { status, data } = response;\n\n\t\t\tsetLoading( false );\n\n\t\t\tif ( status === 'success' ) {\n\t\t\t\tsetData( data );\n\t\t\t\tsetMessage( [] );\n\t\t\t} else {\n\t\t\t\tsetMessage( [ { status: 'error', message: response.message || 'LearnPress: Search Course Fail!' } ] );\n\t\t\t\tsetData( [] );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tconsole.log( error.message );\n\t\t}\n\t};\n\n\tfunction checkItems( id ) {\n\t\tconst datas = [ ...checkData ];\n\n\t\tif ( datas.includes( id ) ) {\n\t\t\tconst index = datas.indexOf( id );\n\n\t\t\tif ( index > -1 ) {\n\t\t\t\tdatas.splice( index, 1 );\n\t\t\t}\n\t\t} else {\n\t\t\tdatas.push( id );\n\t\t}\n\n\t\tsetCheckData( datas );\n\t}\n\n\tconst resetCourse = async () => {\n\t\tif ( checkData.length === 0 ) {\n\t\t\tsetMessage( [ { status: 'error', message: 'Please chooce Course for reset data!' } ] );\n\t\t\treturn;\n\t\t}\n\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( ! confirm( 'Are you sure to reset course progress of all users enrolled this course?' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst notice = [];\n\n\t\ttry {\n\t\t\tsetLoadingReset( true );\n\n\t\t\tfor ( const courseId of checkData ) {\n\t\t\t\tconst response = await wp.apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( 'lp/v1/admin/tools/reset-data/reset-courses', {\n\t\t\t\t\t\tcourseId,\n\t\t\t\t\t} ),\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t} );\n\n\t\t\t\tconst { status, data, message } = response;\n\n\t\t\t\tnotice.push( { status, message: message || `Course #${ courseId } reset successfully!` } );\n\t\t\t}\n\n\t\t\tsetLoadingReset( false );\n\t\t} catch ( error ) {\n\t\t\tnotice.push( { status: 'error', message: error.message || `LearnPress Error: Reset Course Data.` } );\n\t\t}\n\n\t\tsetMessage( notice );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<h2>{ __( 'Reset course progress', 'learnpress' ) }</h2>\n\t\t\t<div className=\"description\">\n\t\t\t\t<p>{ __( 'This action will reset progress of a course for all users have enrolled.', 'learnpress' ) }</p>\n\t\t\t\t<p>{ __( 'Search results only show course have user data.', 'learnpress' ) }</p>\n\t\t\t\t<div>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tplaceholder={ __( 'Search course by name', 'learnpress' ) }\n\t\t\t\t\t\tvalue={ search }\n\t\t\t\t\t\tonChange={ ( value ) => setSearch( value ) }\n\t\t\t\t\t\tstyle={ { width: 300 } }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{ loading && <Spinner /> }\n\n\t\t\t{ data.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"lp-reset-course_progress\" style={ {\n\t\t\t\t\t\tborder: '1px solid #eee',\n\t\t\t\t\t} }>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div style={ { background: '#eee' } }>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\tchecked={ checkData.length === data.length }\n\t\t\t\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\t\t\t\tif ( checkData.length === data.length ) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetCheckData( [] );\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetCheckData( data.map( ( dt ) => dt.id ) );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\tstyle={ { margin: 0 } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>{ __( 'ID', 'learnpress' ) }</div>\n\t\t\t\t\t\t\t\t<div>{ __( 'Name', 'learnpress' ) }</div>\n\t\t\t\t\t\t\t\t<div>{ __( 'Students', 'learnpress' ) }</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div style={ { height: '100%', maxHeight: 200, overflow: 'auto' } }>\n\t\t\t\t\t\t\t{ data.map( ( dt ) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div style={ { borderTop: '1px solid #eee' } } key={ dt.id }>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={ checkData.includes( dt.id ) }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ () => checkItems( dt.id ) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>#{ dt.id }</div>\n\t\t\t\t\t\t\t\t\t\t<div>{ dt.title }</div>\n\t\t\t\t\t\t\t\t\t\t<div>{ dt.students }</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ loadingReset ? <Spinner /> : (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tonClick={ () => resetCourse() }\n\t\t\t\t\t\t\tstyle={ { marginTop: 10, height: 30 } }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Reset now', 'learnpress' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\n\t\t\t{ message.length > 0 && message.map( ( mess, index ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Notice status={ mess.status } key={ index } isDismissible={ false }>\n\t\t\t\t\t\t{ mess.message }\n\t\t\t\t\t</Notice>\n\t\t\t\t);\n\t\t\t} ) }\n\n\t\t\t<style>\n\t\t\t\t{ '\\\n\t\t\t\t.lp-reset-course_progress .components-base-control__field {\\\n\t\t\t\t\tmargin: 0;\\\n\t\t\t\t}\\\n\t\t\t\t.components-notice{\\\n\t\t\t\t\tmargin-left: 0;\\\n\t\t\t\t}\\\n\t\t\t\t.lp-reset-course_progress > div > div{\\\n\t\t\t\t\tdisplay: grid;\\\n\t\t\t\t\tgrid-template-columns: 80px 50px 1fr 80px;\\\n\t\t\t\t\talign-items: center;\\\n\t\t\t\t}\\\n\t\t\t\t.lp-reset-course_progress > div > div > div{\\\n\t\t\t\t\tmaegin: 0;\\\n\t\t\t\t\tpadding: 8px 10px;\\\n\t\t\t\t}\\\n\t\t\t\t' }\n\n\t\t\t</style>\n\t\t</>\n\t);\n};\nexport default ResetCourse;\n","import ResetCourse from './course';\n\nconst resetData = () => {\n\tif ( document.querySelectorAll( '#learn-press-reset-course-users' ).length > 0 ) {\n\t\twp.element.render( <ResetCourse />, [ ...document.querySelectorAll( '#learn-press-reset-course-users' ) ][ 0 ] );\n\t}\n};\nexport default resetData;\n","const handleAjax = function( url, params, functions ) {\n\twp.apiFetch( {\n\t\tpath: url,\n\t\tmethod: 'POST',\n\t\tdata: params,\n\t} ).then( ( res ) => {\n\t\tif ( 'function' === typeof functions.success ) {\n\t\t\tfunctions.success( res );\n\t\t}\n\t} ).catch( ( err ) => {\n\t\tif ( 'function' === typeof functions.error ) {\n\t\t\tfunctions.error( err );\n\t\t}\n\t} ).then( () => {\n\t\tif ( 'function' === typeof functions.completed ) {\n\t\t\tfunctions.completed();\n\t\t}\n\t} );\n};\n\nexport default handleAjax;\n","const $ = jQuery;\nlet elLPOverlay = null;\nconst lpModalOverlay = {\n\telLPOverlay: null,\n\telMainContent: null,\n\telTitle: null,\n\telBtnYes: null,\n\telBtnNo: null,\n\telFooter: null,\n\telCalledModal: null,\n\tcallBackYes: null,\n\tinstance: null,\n\tinit() {\n\t\tif ( this.instance ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.elLPOverlay = $( '.lp-overlay' );\n\n\t\tif ( ! this.elLPOverlay.length ) {\n\t\t\treturn false;\n\t\t}\n\t\telLPOverlay = this.elLPOverlay;\n\n\t\tthis.elMainContent = elLPOverlay.find( '.main-content' );\n\t\tthis.elTitle = elLPOverlay.find( '.modal-title' );\n\t\tthis.elBtnYes = elLPOverlay.find( '.btn-yes' );\n\t\tthis.elBtnNo = elLPOverlay.find( '.btn-no' );\n\t\tthis.elFooter = elLPOverlay.find( '.lp-modal-footer' );\n\n\t\t$( document ).on( 'click', '.close, .btn-no', function() {\n\t\t\telLPOverlay.hide();\n\t\t} );\n\n\t\t$( document ).on( 'click', '.btn-yes', function( e ) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\tif ( 'function' === typeof lpModalOverlay.callBackYes ) {\n\t\t\t\tlpModalOverlay.callBackYes();\n\t\t\t}\n\t\t} );\n\n\t\tthis.instance = this;\n\n\t\treturn true;\n\t},\n\tsetElCalledModal( elCalledModal ) {\n\t\tthis.elCalledModal = elCalledModal;\n\t},\n\tsetContentModal( content, event ) {\n\t\tthis.elMainContent.html( content );\n\t\tif ( 'function' === typeof event ) {\n\t\t\tevent();\n\t\t}\n\t},\n\tsetTitleModal( content ) {\n\t\tthis.elTitle.html( content );\n\t},\n};\n\nexport default lpModalOverlay;\n","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import getStepsUpgradeStatus from './tools/database/upgrade';\nimport createIndexes from './tools/database/create_indexs';\nimport reUpgradeDB from './tools/database/re-upgrade-db';\nimport cleanDatabases from './tools/database/clean_database';\n\nimport resetData from './tools/reset-data';\n\n( function( $ ) {\n\tconst $doc = $( document );\n\tlet isRunning = false;\n\n\tconst installSampleCourse = function installSampleCourse( e ) {\n\t\te.preventDefault();\n\n\t\tconst $button = $( this );\n\n\t\tif ( isRunning ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! confirm( lpGlobalSettings.i18n.confirm_install_sample_data ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$button.addClass( 'disabled' ).html( $button.data( 'installing-text' ) );\n\t\t$( '.lp-install-sample__response' ).remove();\n\t\tisRunning = true;\n\n\t\t$.ajax( {\n\t\t\turl: $button.attr( 'href' ),\n\t\t\tdata: $( '.lp-install-sample__options' ).serializeJSON(),\n\t\t\tsuccess( response ) {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t\tisRunning = false;\n\t\t\t\t$( response ).insertBefore( $button.parent() );\n\t\t\t},\n\t\t\terror() {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t\tisRunning = false;\n\t\t\t\t$( response ).insertBefore( $button.parent() );\n\t\t\t},\n\t\t} );\n\t};\n\n\tconst uninstallSampleCourse = function uninstallSampleCourse( e ) {\n\t\te.preventDefault();\n\n\t\tconst $button = $( this );\n\n\t\tif ( isRunning ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! confirm( lpGlobalSettings.i18n.confirm_uninstall_sample_data ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$button.addClass( 'disabled' ).html( $button.data( 'uninstalling-text' ) );\n\t\tisRunning = true;\n\n\t\t$.ajax( {\n\t\t\turl: $button.attr( 'href' ),\n\t\t\tsuccess( response ) {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t\tisRunning = false;\n\t\t\t\t$( response ).insertBefore( $button.parent() );\n\t\t\t},\n\t\t\terror() {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t\tisRunning = false;\n\t\t\t\t$( response ).insertBefore( $button.parent() );\n\t\t\t},\n\t\t} );\n\t};\n\n\tconst clearHardCache = function clearHardCache( e ) {\n\t\te.preventDefault();\n\t\tconst $button = $( this );\n\n\t\tif ( $button.hasClass( 'disabled' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$button.addClass( 'disabled' ).html( $button.data( 'cleaning-text' ) );\n\t\t$.ajax( {\n\t\t\turl: $button.attr( 'href' ),\n\t\t\tdata: {},\n\t\t\tsuccess( response ) {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t},\n\t\t\terror() {\n\t\t\t\t$button.removeClass( 'disabled' ).html( $button.data( 'text' ) );\n\t\t\t},\n\t\t} );\n\t};\n\n\tconst toggleHardCache = function toggleHardCache() {\n\t\t$.ajax( {\n\t\t\turl: 'admin.php?page=lp-toggle-hard-cache-option',\n\t\t\tdata: { v: this.checked ? 'yes' : 'no' },\n\t\t\tsuccess( response ) {\n\t\t\t},\n\t\t\terror() {\n\t\t\t},\n\t\t} );\n\t};\n\n\tconst toggleOptions = function toggleOptions( e ) {\n\t\te.preventDefault();\n\t\t$( '.lp-install-sample__options' ).toggleClass( 'hide-if-js' );\n\t};\n\n\t$( function() {\n\t\tgetStepsUpgradeStatus();\n\t\tcreateIndexes();\n\t\treUpgradeDB();\n\t\tresetData();\n\t\tcleanDatabases();\n\t\t$doc.on( 'click', '.lp-install-sample__install', installSampleCourse )\n\t\t\t.on( 'click', '.lp-install-sample__uninstall', uninstallSampleCourse )\n\t\t\t.on( 'click', '#learn-press-clear-cache', clearHardCache )\n\t\t\t.on( 'click', 'input[name=\"enable_hard_cache\"]', toggleHardCache )\n\t\t\t.on( 'click', '.lp-install-sample__toggle-options', toggleOptions );\n\t} );\n}( jQuery ) );\n"],"names":["lpModalOverlay","handleAjax","cleanDatabases","elCleanDatabases","document","querySelector","elBtnCleanDatabases","addEventListener","e","preventDefault","elToolsSelect","ElToolSelectLi","querySelectorAll","checkedOne","Array","prototype","slice","call","some","x","checked","prepareMessage","style","display","textContent","elLoading","init","elLPOverlay","show","setContentModal","innerHTML","setTitleModal","elBtnYes","elBtnNo","listTables","ElToolSelectLiCheked","forEach","push","value","tables","item","itemtotal","getAttribute","modal","notice","callBackYes","r","confirm","url","params","functions","success","res","status","message","data","processed","percent","modalItem","progressBarRows","progressPercent","progressValue","console","log","setTimeout","width","color","background","location","reload","error","err","completed","createIndexes","elCreateIndexTables","elBtnCreateIndexes","table","elSteps","elGroupStep","showProgress","stepCurrent","elItemStepCurrent","closest","classList","add","remove","progressBar","scrollToStepCurrent","offset","offsetTop","elMainContent","scrollTop","stop","animate","elItemStep","cloneNode","input","label","append","undefined","reUpgradeDB","elToolReUpgradeDB","can_re_upgrade","elBtnReUpradeDB","elMessage","window","href","$","jQuery","elToolUpgradeDB","upgradeDB","isUpgrading","elWrapperTermsUpgrade","find","elStatusUpgrade","elWrapperUpgradeMessage","checkValidBeforeUpgrade","length","html","elTermUpdate","elLPAgreeTerm","elTermMessage","elMessageUpgrading","val","hide","removeClass","is","agree_terms","elFooter","prepend","addClass","top","text","urlHandle","elItemSteps","steps","each","i","el","elItemStepsTmp","hasClass","step","css","funcCallBack","name","on","lpGlobalSettings","siteurl","onbeforeunload","onclose","getStepsUpgradeStatus","elWrapperStatusUpgrade","queryString","search","urlParams","URLSearchParams","action","get","steps_completed","steps_default","htmlStep","k_gr_steps","step_group","k_step","description","elBtnUpgradeDB","__","wp","i18n","TextControl","Button","Spinner","CheckboxControl","Notice","components","useState","useEffect","element","addQueryArgs","ResetCourse","loading","setLoading","setSearch","setData","checkData","setCheckData","setMessage","loadingReset","setLoadingReset","responsiveData","s","response","apiFetch","path","method","checkItems","id","datas","includes","index","indexOf","splice","resetCourse","courseId","border","map","dt","margin","height","maxHeight","overflow","borderTop","title","students","marginTop","mess","resetData","render","then","catch","elTitle","elCalledModal","instance","stopPropagation","setElCalledModal","content","event","$doc","isRunning","installSampleCourse","$button","confirm_install_sample_data","ajax","attr","serializeJSON","insertBefore","parent","uninstallSampleCourse","confirm_uninstall_sample_data","clearHardCache","toggleHardCache","v","toggleOptions","toggleClass"],"sourceRoot":""}